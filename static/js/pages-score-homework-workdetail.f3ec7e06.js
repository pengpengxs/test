(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-score-homework-workdetail"],{"447d":function(t,i,e){var a=e("b0d8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("1e7c668b",a,!0,{sourceMap:!1,shadowMode:!1})},5592:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"item teacher"},[a("v-uni-view",{staticClass:"title"},[t._v("作业信息")]),a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v("作业名称：")]),a("v-uni-view",{staticClass:"list-content"},[t._v(t._s(t.vos.taskName))])],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v("简述：")]),a("v-uni-view",{staticClass:"list-content"},[t._v(t._s(t.vos.taskDesc))])],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v("附件：")]),a("v-uni-view",{staticClass:"list-content"},t._l(t.vos.enclosure,(function(i,e){return a("v-uni-view",{key:i.id,staticClass:"file-contaner",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downloadFile(i)}}},[a("v-uni-text",{staticClass:"text"},[t._v(t._s(i.fileOriginalName))])],1)})),1)],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v("图片：")]),a("v-uni-view",{staticClass:"imgs"},t._l(t.vos.photo,(function(i,e){return a("v-uni-view",{staticClass:"img-contaner"},[a("v-uni-image",{staticClass:"img-wi",attrs:{src:t.photoUrl+i.moduleName+"/"+i.fileNewName},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImg(t.photoUrl+i.moduleName+"/"+i.fileNewName)}}})],1)})),1)],1)],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"title"},[t._v("考核信息")]),a("v-uni-view",{staticClass:"main"},t._l(t.vos.examWeightings,(function(i){return a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v(t._s(i.taskExamName)+"("+t._s(i.highestScore)+")：")]),a("v-uni-view",{staticClass:"list-content score"},[t._v(t._s(null==i.score?"未打分":i.score))])],1)})),1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"title"},[t._v("上传作业")]),a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v("附件：")]),a("v-uni-view",{staticClass:"list-content"},[a("v-uni-view",{staticClass:"upload",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.upEnclosure()}}},[a("v-uni-image",{attrs:{src:e("a7a43")}}),a("v-uni-text",[t._v("上传附件")])],1),t._l(t.myEnclosureList,(function(i,s){return a("v-uni-view",{staticClass:"file-contaner"},[a("v-uni-text",{staticClass:"text"},[t._v(t._s(i.fileOriginalName))]),a("v-uni-image",{staticClass:"icon-cancel",attrs:{src:e("80a6")},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteFile(s)}}})],1)}))],2)],1),a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"list-tit"},[t._v("图片：")]),a("v-uni-view",{staticClass:"list-content"},[a("v-uni-view",{staticClass:"upload",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.upPhoto()}}},[a("v-uni-image",{attrs:{src:e("a7a43")}}),a("v-uni-text",[t._v("上传图片")])],1),a("v-uni-view",{staticClass:"imgs"},t._l(t.pictureList,(function(i,s){return a("v-uni-view",{staticClass:"img-contaner"},[i.url?[a("v-uni-image",{staticClass:"img-wi",attrs:{src:i.url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImg(i.url)}}})]:[a("v-uni-image",{staticClass:"img-wi",attrs:{src:t.photoUrl+i.moduleName+"/"+i.fileNewName},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImg(t.photoUrl+i.moduleName+"/"+i.fileNewName)}}})],a("v-uni-image",{staticClass:"icon-cancel",attrs:{src:e("80a6")},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deletePhoto(s)}}})],2)})),1)],1)],1)],1)],1),a("v-uni-view",{staticClass:"item item-btn"},[a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onBack()}}},[t._v("返回")]),a("v-uni-view",{staticClass:"btn save",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.save()}}},[t._v("保存")])],1)],1)],1)},n=[]},"7da9":function(t,i,e){"use strict";var a=e("447d"),s=e.n(a);s.a},"80a6":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABjElEQVRYR+2WsUrDUBSG/3NDUl2FgkMbBykt9gl8CZ3qA4iTXcQXsC6O6mIXBx+gIOhLODopKcUlySAUXG0TmyNRA9XmNrc1chGaMbnnP1/+c+69h6D5Ic35sQD4fw70VlGMTLPBQB1EpY8eYvZJ4P5tFF7XfbzM0lfKDvTKhfURokMi2mVgSZLkFcxXBsRpxRs+qYAoATi21QDzBYiKKqJg7kckTjbc4XnW+kyArm0dMdDKEkr7TkCr6gbH02KnAjzahQMBPpsn+VjMTs0NOjINKcBXze+UbZdlYO4bEJuynpACOGUzrvn+L//+M5y5XfPCpqRMk68fSlgxhOUDWM4DgICBCAK78oz+T71UB7pr5h4zXeaRPNEg5mbVC9tKALnan2SUlCHVAce2bgBspTjQ4Sia+IvxdSRE3DeNlNjbmhtsqzmgHSDPHTBPCbQ3ofZtGLuW606Y9SCKAbQfxTGE1ssoaV6t13ECoXUgSSC0jmTjx6e2oTTPm/Hb3fFXwqq6mUOpqtC86xYA7yKJxCECBZu1AAAAAElFTkSuQmCC"},"99d9":function(t,i,e){"use strict";e.r(i);var a=e("5592"),s=e("f76c");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("7da9");var l,o=e("f0c5"),c=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"ebde6e44",null,!1,a["a"],l);i["default"]=c.exports},a7a43:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACcklEQVRoQ+2Yz2sTQRTHvy+CHhQLHppVehCxUBD9G/RfEMzVntTTZnOzp/Ygxdsm7UH0Ioin5uCfoH+DgohQD16cUKoo9RIsr8yaDXHdyc7Oj6SBmUvCZmfm83nvzcxmCQveaMH5EQTmncGQgZABywh4K6Eo5S00sA7GTwBPREJ9S9bS7l4EMnjCZmHGlg8J5wIK+NzFuYRTgQp4LxLOBDThnUs4EVDAy8W7NCKe/O5UwlpAAd8HYQ2Mmxkt4QMYnwDcc72wrQRU8CKhVtTj95MCok23oi7vuZYwFpgGL6NcJpBddyxhJLDS49U/jM+FcujLyOfXVAJKiQaWRUwHdQ87I4Goy7KWZTnk7R/4aRkYCxYzwbgjOvRuJgJykmbKz4nwAIxd0aG4OPG0DJRIvBIJ3a8L/3d/8NR0BLJMpXzbJPI59twFbOMXBFQR1C2hkAHbCIQMWEZQuYizR4VREx0af9edz8Ua0GEoFZB7Mwhvx7AGp6StgC6DP4Eu82S2REK1tuzTIHAE4PxI4rdI6IJu+eUntE4VeMtAM+UNImxLGAY2Bgk9XSiBDHaPz2SfLTquA38qMlAX+L+nWc2NxFsJBQGXGSDC3W9temMb1Tr9o5TXQXhZdRaVllAz5WtE2J+YcB+M13UArO8lyH9oV8fjNHBDxPSxOG6pwPUdPnfE+ALGFWsQRwMMG1j6HtMvLQF50+UeP2LGM0fzWw3DhHjQpt2yQaYe7yVvH6xATDoz48WgQw9VfSufTy7t8MWzwAqOsWwCYNqHGYfDIb7+eEzyvaqyVQqYAsyqXxCYVaSN18C8AavmDyVUFSHfvy98Bk4Al9NqQBzD7hUAAAAASUVORK5CYII="},b0d8:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".container[data-v-ebde6e44]{background-color:#fff}.item .title[data-v-ebde6e44],.item .main[data-v-ebde6e44]{padding:%?20?%;background-color:#fff}.item .title[data-v-ebde6e44]{font-size:%?32?%;font-weight:800;border-bottom:1px solid #f2f2f2;border-top:1px solid #f2f2f2}.list[data-v-ebde6e44]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?15?% 0}.score[data-v-ebde6e44]{width:70%;font-size:%?25?%;text-align:right}.list .list-tit[data-v-ebde6e44]{width:%?200?%}.list .upload[data-v-ebde6e44]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex}.list .upload uni-image[data-v-ebde6e44]{width:%?35?%;height:%?35?%;margin-right:%?20?%}.list .list-tit[data-v-ebde6e44],.list .list-content[data-v-ebde6e44]{font-size:%?26?%}.text[data-v-ebde6e44]{font-size:%?26?%;max-width:%?500?%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[data-v-ebde6e44] .uni-icon-cancel{margin-top:%?-16?%;margin-left:%?10?%}.p_photo_box[data-v-ebde6e44]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.photo_list[data-v-ebde6e44]{width:%?250?%;height:%?200?%;margin-right:%?20?%;border:1px solid #f4f4f4}.photo_list uni-video[data-v-ebde6e44],\n.photo_list uni-image[data-v-ebde6e44]{width:100%;height:100%}.imgs[data-v-ebde6e44]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.img-contaner[data-v-ebde6e44]{width:%?150?%;height:%?160?%;border:%?2?% solid #f5f5f5;margin:%?20?%;background:#f5f5f5;cursor:pointer;position:relative;display:-webkit-box;display:-webkit-flex;display:flex}.img-wi[data-v-ebde6e44]{width:100%;height:100%}.file-contaner[data-v-ebde6e44]{margin:%?20?%;cursor:pointer;position:relative;display:-webkit-box;display:-webkit-flex;display:flex}.teacher .file-contaner[data-v-ebde6e44]{margin:%?0?%}.close-img[data-v-ebde6e44]{position:absolute;right:0;top:0;cursor:pointer}.icon-cancel[data-v-ebde6e44]{width:%?50?%;height:%?50?%;position:absolute;top:%?-20?%;right:%?-20?%}.item-btn .main[data-v-ebde6e44]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;justify-content:space-evenly;background-color:#fff}.btn[data-v-ebde6e44]{width:%?250?%;padding:%?15?%;color:silver;background-color:#fff;border:1px solid silver;border-radius:%?10?%;text-align:center}.save[data-v-ebde6e44]{background-color:#0093ff;border:none;color:#fff}",""]),t.exports=i},d61d:function(t,i,e){"use strict";e("99af"),e("4160"),e("a434"),e("d3b7"),e("3ca3"),e("159b"),e("ddb0"),e("2b3d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{taskId:null,taskContentId:"",vos:[],data:[],myEnclosureList:[],pictureList:[],photoUrl:this.$util.commonUrl()+this.$api.linkloadUrl}},onLoad:function(t){this.taskId=t.taskId,this.taskContentId=t.taskContentId,this.taskName=t.taskName,uni.setNavigationBarTitle({title:this.taskName}),this.getData()},methods:{getData:function(){var t=this;this.$util.request(this.$api.homeworkDetail,{id:this.taskId},"POST",void 0,0,!1).then((function(i){if(200==i.status){t.data=i.datas,t.vos=i.datas.taskVO;for(var e=i.datas.myEnclosure,a=i.datas.myPhoto,s=0;s<e.length;s++)e[s].uploadType=2;for(var n=0;n<a.length;n++)a[n].uploadType=1;t.myEnclosureList=e,t.pictureList=a}}))},downloadFile:function(t){this.$util.requestDownLoad(this.$api.downloadFile,{id:t.id},"POST").then((function(i){var e=t.fileOriginalName,a=new FileReader,s=new Blob([i]);a.readAsText(s),a.onload=function(t){var i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download=decodeURI(e),a.click(),URL.revokeObjectURL(i)}}))},upEnclosure:function(){var t=this;uni.chooseFile({count:1,extension:[".zip",".doc"],success:function(i){var e=i.tempFilePaths[0],a=i.tempFiles[0].name,s=!1;t.myEnclosureList.forEach((function(i){a==i.fileOriginalName&&(s=!0,t.$util.toast("已上传过该文件"))})),s||t.$util.uploadFile(t.$api.uploadUrl,e).then((function(i){200===i.status&&t.myEnclosureList.push({id:i.datas.id,url:t.$util.commonUrl()+t.$api.linkloadUrl+i.datas.moduleName+"/"+i.datas.fileNewName,fileNewName:i.datas.fileNewName,fileOriginalName:i.datas.fileOriginalName,uploadType:2})}))}})},upPhoto:function(){var t=this;uni.chooseImage({count:1,sizeType:["original"],success:function(i){if("chooseImage:ok"===i.errMsg){var e=i.tempFilePaths[0],a=i.tempFiles[0].name,s=!1;t.pictureList.forEach((function(i){a==i.fileOriginalName&&(s=!0,t.$util.toast("已上传过该图片"))})),s||t.$util.uploadFile(t.$api.uploadUrl,e).then((function(i){200===i.status&&t.pictureList.push({id:i.datas.id,fileOriginalName:i.datas.fileOriginalName,url:t.$util.commonUrl()+t.$api.linkloadUrl+i.datas.moduleName+"/"+i.datas.fileNewName,uploadType:1})}))}}})},deletePhoto:function(t){this.pictureList.splice(t,1)},deleteFile:function(t){this.myEnclosureList.splice(t,1)},previewImg:function(t){var i=[];i[0]=t,uni.previewImage({current:0,urls:i})},save:function(){for(var t=this,i=this.pictureList.concat(this.myEnclosureList),e=[],a=0;a<i.length;a++)e.push({sourceId:i[a].id,uploadType:i[a].uploadType});var s={params:e,taskId:this.taskId};this.$util.request(this.$api.saveTask,s,"POST").then((function(i){200==i.status&&(uni.showToast({title:i.message,duration:1e3}),setTimeout((function(){uni.navigateTo({url:"./classhomework?taskContentId="+t.taskContentId})}),2e3))}))},onBack:function(){return uni.navigateTo({url:"../score"}),!0}}};i.default=a},f76c:function(t,i,e){"use strict";e.r(i);var a=e("d61d"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a}}]);