(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-scan-scanapp"],{"231b":function(e,n,t){"use strict";t.r(n);var c=t("94d4"),r=t.n(c);for(var a in c)"default"!==a&&function(e){t.d(n,e,(function(){return c[e]}))}(a);n["default"]=r.a},"38e5":function(e,n,t){"use strict";t.r(n);var c=t("78ae"),r=t("231b");for(var a in r)"default"!==a&&function(e){t.d(n,e,(function(){return r[e]}))}(a);var o,u=t("f0c5"),i=Object(u["a"])(r["default"],c["b"],c["c"],!1,null,null,null,!1,c["a"],o);n["default"]=i.exports},"78ae":function(e,n,t){"use strict";var c;t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return c}));var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view")},a=[]},"94d4":function(e,n,t){"use strict";t("c975"),t("ac1f"),t("5319"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=t("8f16"),r=t("cebd"),a={data:function(){return{barcode:null,result:"",setFlash:!1}},onLoad:function(){var e=this;function n(n,t){e.result=t;switch(n){case plus.barcode.QR:"QR: ";break;case plus.barcode.EAN13:"EAN13: ";break;case plus.barcode.EAN8:"EAN8: ";break}e.barcode.cancel(),e.barcode.close(),e.scanSend(t)}e.barcode=null,e.barcode||(e.barcode=plus.barcode.create("barcode",[plus.barcode.QR],{top:"44px",left:"0",width:"100%",height:"50%",position:"absolute"}),plus.webview.currentWebview().append(e.barcode),e.barcode.onmarked=n),e.barcode.start()},methods:{back:function(){return this.barcode.cancel(),this.barcode.close(),uni.switchTab({url:"../home/home"}),!0},scanSend:function(e){if(this.barcode.cancel(),this.barcode.close(),e.indexOf("http")>-1)uni.navigateTo({url:"../scanresult/webview?url="+e});else if(this.isJSON(e)){var n=JSON.parse(e);"course"==n.type&&uni.navigateTo({url:"../scanresult/scanresult?projectId="+n.projectId+"&courseId="+n.courseId})}else{var t=e.replace(/\//g,"d-d"),a=r.commonUrl()+c.qrCodeApp+t;-1==t.indexOf("%23")&&-1==t.indexOf("%40")&&-1==t.indexOf("#")&&-1==t.indexOf("@")?uni.navigateTo({url:"../scanresult/equipdetail?urls="+t}):r.requestScan(a).then((function(e){uni.showToast({title:e.message,duration:2e3,icon:"none"}),setTimeout((function(){uni.switchTab({url:"../home/home"})}),2e3)})).catch((function(e){uni.showToast({title:"操作失败,请重试！",duration:2e3,icon:"none"}),setTimeout((function(){uni.switchTab({url:"../home/home"})}),2e3)}))}},isJSON:function(e){if("string"==typeof e)try{var n=_parseJSON(e);return!("object"!=typeof n||!n)}catch(t){return!1}return!1}},onBackPress:function(){return this.barcode.cancel(),this.barcode.close(),uni.switchTab({url:"../home/home"}),!0},onUnload:function(){this.barcode.cancel(),this.barcode.close()}};n.default=a}}]);