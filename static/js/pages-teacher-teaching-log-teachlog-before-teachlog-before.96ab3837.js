(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-teacher-teaching-log-teachlog-before-teachlog-before"],{"1c8d":function(t,e,i){"use strict";i.r(e);var a=i("67c8"),s=i("7c51");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("4d03");var o,c=i("f0c5"),l=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"13c7a818",null,!1,a["a"],o);e["default"]=l.exports},"47b9":function(t,e,i){var a=i("e098");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("6f061c60",a,!0,{sourceMap:!1,shadowMode:!1})},"4d03":function(t,e,i){"use strict";var a=i("47b9"),s=i.n(a);s.a},"4f3a":function(t,e,i){"use strict";i.r(e);var a=i("52c4"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},"52c4":function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("caad"),i("c975"),i("d81d"),i("4e82"),i("a434"),i("e25e"),i("ac1f"),i("2532"),i("5319"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("698a")),n=a(i("1c8d")),o=i("8f16"),c=i("cebd"),l={components:{uniPopup:s.default,uniNumberBoxXg:n.default},data:function(){return{sysemId:null,courseId:null,teachLogId:null,teachLogData:{},roomListData:[],roomselIds:[],pictures:[],deviceList:[],deviceValue:null,bxDeviceObj:{},deviceRepairList:[],warehouseList:[],warehouseName:null,warehouseId:null,houseValue:null,goodsList:[],selGoodsList:[],goodsAllNum:0,notNoughtGoods:[],defaultPhoneHeight:null,nowPhoneHeight:null,listHeight:null}},methods:{getDetail:function(t){var e=this;c.request(o.teachMobileBeforeShow,{id:t}).then((function(t){200===t.status&&(e.teachLogData=t.datas,e.roomListData=e.teachLogData.roomList,e.roomListData.length>0&&1==e.roomListData.length&&(e.roomselIds.push(e.roomListData[0].key),e.roomListData[0].checked=!0))}))},roomSelDrop:function(){this.$refs.roomPopup.open()},roomChange:function(t){for(var e=this.roomListData,i=t.detail.value,a=0,s=e.length;a<s;++a){var n=e[a];i.includes(n.key)?this.$set(n,"checked",!0):this.$set(n,"checked",!1)}},roomSelSure:function(){var t=this;this.roomselIds=[],this.roomListData.forEach((function(e){e.checked&&t.roomselIds.push(e.key)})),this.$refs.roomPopup.close()},upPhoto:function(){var t=this;uni.chooseImage({count:6,sizeType:["original"],success:function(e){if("chooseImage:ok"===e.errMsg){var i=e.tempFilePaths,a=t.pictures||[];if(a.length+i.length>6)return void uni.showToast({title:"最多只能上传6张图片!",duration:2e3,icon:"none"});t.uploadImg(i)}}})},uploadImg:function(t){for(var e=t,i=[],a=0;a<e.length;a++)i.push({name:"files",uri:e[a]});var s=this.pictures||[];c.uploadFileMulti(o.batchUpload,i).then((function(t){200===t.status&&t.datas.forEach((function(t){s.push({id:t.id,fileOriginalName:t.fileOriginalName,url:c.commonUrl()+o.linkloadUrl+t.moduleName+"/"+t.fileNewName,uploadType:1})}))})),this.pictures=s},previewImg:function(t){var e=[];e[0]=t,uni.previewImage({current:0,urls:e})},deletrImg:function(t,e){this.pictures.splice(e,1),c.request(o.deletePhoto,[t.id]).then((function(t){200==t.status&&uni.showToast({title:t.message,duration:2e3,icon:"none"})}))},showSheet:function(){this.roomselIds.length>0?(this.$refs.popup.open(),this.deviceValue=null,this.deviceList=[],this.getDeviceList()):uni.showToast({title:"请先选择实训室!",duration:2e3,icon:"none"})},getDeviceList:function(){var t=this;c.request(o.teachMobileDeviceList,{name:this.deviceValue,roomList:this.roomselIds}).then((function(e){200===e.status&&(t.deviceList=e.datas)}))},hidePop:function(){this.$refs.popup.close()},deviceSearch:function(t){this.deviceValue=t.detail.value,this.getDeviceList()},clickBx:function(t){this.bxDeviceObj=JSON.parse(JSON.stringify(t)),this.$refs.bxPopup.open()},bxSaveCreat:function(){var t=this;this.bxDeviceObj.damageCause&&this.bxDeviceObj.damageSituation?c.request(o.equipmentRepairCreat,{damageCause:this.bxDeviceObj.damageCause,damageSituation:this.bxDeviceObj.damageSituation,equipmentId:this.bxDeviceObj.equipmentId}).then((function(e){200===e.status&&(uni.showToast({title:e.message,duration:2e3,icon:"none"}),t.bxDeviceObj.code=e.datas.code,t.deviceRepairList.push(t.bxDeviceObj),t.bxHidePop(),t.getDeviceList())})):uni.showToast({title:"损坏情况或损坏原因必填!",duration:2e3,icon:"none"})},bxHidePop:function(){this.$refs.bxPopup.close(),this.bxDeviceObj={}},hcShowSheet:function(){this.warehouseList=[],this.goodsList=[],this.getWarehouseList(),this.houseValue=null,this.$refs.hcPopup.open()},getWarehouseList:function(){var t=this;c.request(o.teachMobileWarehouseList).then((function(e){200===e.status&&(t.warehouseList=e.datas,t.warehouseList.length>0&&(t.selGoodsList.length>0?(t.warehouseName=t.selGoodsList[0].warehouseName,t.warehouseId=t.selGoodsList[0].warehouseId,t.getGoodsList()):(t.warehouseName=e.datas[0].value,t.warehouseId=e.datas[0].key,t.getGoodsList())))}))},getGoodsList:function(){var t=this;c.request(o.teachMobileGoodsList,{name:this.houseValue,warehouseId:this.warehouseId}).then((function(e){200===e.status&&(t.goodsList=e.datas,t.goodsList.length>0&&(t.selGoodsList.length>0&&t.goodsList.forEach((function(e){t.selGoodsList.forEach((function(i){-1!=e.goodsId.indexOf(i.goodsId)&&i.warehouseId==t.warehouseId&&(e.lyNumber=i.lyNumber)}))})),t.goodsList.forEach((function(t){t.lyNumber||(t.lyNumber=0)})),t.goodsList=t.arrSortByKey(t.goodsList,"lyNumber",!1)))}))},arrSortByKey:function(t,e,i){return t.sort((function(t,a){var s=t[e],n=a[e];return i?s-n:n-s}))},hcSearch:function(t){this.houseValue=t.detail.value,this.getGoodsList()},roomdropSelect:function(t){this.warehouseName=t.value,this.warehouseId=t.key,this.$refs.roomDropdown.close(),this.getGoodsList()},lyChange:function(t){for(var e=this.goodsList,i=0;i<e.length;i++){var a=e[i];t.cid==a.goodsId&&this.$set(a,"lyNumber",t.value)}},hcSave:function(){var t=this,e=[];this.goodsList.forEach((function(t){0!=t.lyNumber&&t.lyNumber&&e.push(t)})),this.selGoodsList=e;var i=0;this.selGoodsList.length>0&&this.selGoodsList.forEach((function(e){i+=e.lyNumber,e.warehouseId=t.warehouseId,e.warehouseName=t.warehouseName})),this.goodsAllNum=i,this.hcHidePop()},hcHidePop:function(){this.$refs.hcPopup.close()},teachSumbit:function(){if(this.roomselIds.length<=0)uni.showToast({title:"实训室必须选择!",duration:2e3,icon:"none"});else{var t={};t.roomIdList=this.roomselIds,t.arrangeTimetableId=this.teachLogData.arrangeTimetableId,t.goodsList=this.selGoodsList,t.goodsList.length>0?(t.warehouseId=this.warehouseId,t.warehouseName=this.warehouseName):(t.warehouseId=null,t.warehouseName=null);var e=[];this.deviceRepairList.length>0&&(e=this.deviceRepairList.map((function(t){return t.code}))),t.repairCodeList=e;var i=[];this.pictures.length>0&&(i=this.pictures.map((function(t){return t.id}))),t.sourceList=i,t.goodsList.length>0?this.beforeValidator(t):this.beforeCreate(t)}},beforeValidator:function(t){var e=this;c.request(o.teachMobileBeforeValidator,t).then((function(i){200===i.status?i.datas&&i.datas.length>0?(e.notNoughtGoods=i.datas,e.$refs.nothcPopup.open()):e.beforeCreate(t):uni.showToast({title:i.message,duration:3e3,icon:"none"})}))},nothcHidePop:function(){this.$refs.nothcPopup.close()},beforeCreate:function(t){var e=this;c.request(o.teachMobileBeforeCreate,t).then((function(t){200===t.status?(uni.showToast({title:t.message,duration:1500,icon:"none"}),setTimeout((function(){e.backFun()}),1500)):uni.showToast({title:t.message,duration:3e3,icon:"none"})}))},backFun:function(){var t=getCurrentPages(),e=t[t.length-2];e.$vm.navBackFun({isSellBack:!0}),uni.navigateBack()}},onLoad:function(t){var e=this;t&&t.teaId?(e.teachLogId=t.teaId,e.getDetail(t.teaId)):e.teachLogId=null,t&&(e.sysemId=t.sysemId,e.courseId=t.courseId)},mounted:function(){var t=this;this.defaultPhoneHeight=window.innerHeight,window.onresize=function(){t.nowPhoneHeight=window.innerHeight}},destroyed:function(){},watch:{nowPhoneHeight:function(){if(this.defaultPhoneHeight!=this.nowPhoneHeight){this.listHeight=parseInt($(".hcListBox").css("height").replace("px",""));var t=this.listHeight+this.nowPhoneHeight-this.defaultPhoneHeight;$(".hcListBox").css("height",t+"px")}else this.listHeight&&$(".hcListBox").css("height","400px")}}};e.default=l},6285:function(t,e,i){"use strict";var a=i("b685"),s=i.n(a);s.a},"67c8":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-numbox"},[i("v-uni-view",{staticClass:"uni-numbox__minus",class:{"uni-numbox--disabled":t.disableSubtract||t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("subtract")}}},[t._v("-")]),i("v-uni-input",{staticClass:"uni-numbox__value",attrs:{type:"number",disabled:t.disabled,value:t.inputValue},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t._onBlur.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"uni-numbox__plus",class:{"uni-numbox--disabled":t.disableAdd||t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("add")}}},[t._v("+")])],1)},n=[]},"67cd":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".blockone[data-v-7c5f1174]{background-color:#fff;padding:%?20?%;margin:%?20?%;border-radius:%?10?%}.blockone .rows[data-v-7c5f1174]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;margin-bottom:%?20?%;color:#434343}.blockone .rows .rowtitle[data-v-7c5f1174]{width:28%;color:#434343}.blockone .rows .rowcontent[data-v-7c5f1174]{width:76%;color:#434343}.imgbox[data-v-7c5f1174]{position:relative;float:left;margin-right:%?20?%;margin-top:%?10?%}.imgbox uni-icon[data-v-7c5f1174]{position:absolute;top:0;right:0;z-index:1}.typeListBox[data-v-7c5f1174]{height:%?600?%}.tablebox[data-v-7c5f1174]{margin:%?50?% %?20?% %?20?%}.tablebox_head[data-v-7c5f1174]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tablebox_head_other[data-v-7c5f1174]{margin-top:%?12?%}.tablebox_head_titlename[data-v-7c5f1174]{font-size:%?30?%;color:#1a1a1a;margin-right:%?16?%}.tablebox_head_titledesc[data-v-7c5f1174]{font-size:%?26?%;color:#707070}.tablebox_cont[data-v-7c5f1174]{padding:%?12?% 0}.btncss[data-v-7c5f1174]{width:%?100?%;height:%?40?%;line-height:%?40?%;text-align:center;color:#fff;background-color:#0369d6;display:inline-block;border-radius:%?4?%}\n\n/* 表格 */.list[data-v-7c5f1174]{border-radius:%?10?%}\n\n/* 表格 */.table01[data-v-7c5f1174]{display:table;width:100%;background:#fff;margin:0 auto %?10?%;table-layout:fixed;border-radius:%?10?%}.th01[data-v-7c5f1174]{display:table-row;width:100%}.tr01[data-v-7c5f1174]{display:table-row;width:100%}.th01 .td01[data-v-7c5f1174]{display:table-cell;text-align:left;height:%?80?%;border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;font-size:%?30?%;padding:0 %?16?%;color:#434343;vertical-align:middle;background-color:#e6e6e6}.tr01 .td01[data-v-7c5f1174]{display:table-cell;text-align:left;height:%?120?%;border-bottom:1px solid #f2f2f2;font-size:%?28?%;padding:%?16?%;color:#1a1a1a;vertical-align:middle}.tablef13 .th01 .td01[data-v-7c5f1174], .tablef13 .tr01 .td01[data-v-7c5f1174]{font-size:%?26?%;height:%?80?%}.elli[data-v-7c5f1174]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.deviceBtn[data-v-7c5f1174]{display:inline-block;font-size:%?24?%;background-color:#0369d6;color:#fff;border-radius:%?8?%;padding:%?4?% %?16?%}.bt-bor-item-border[data-v-7c5f1174]{border-bottom:1px solid #f2f2f2;margin-bottom:%?30?%}.bt-bor-item[data-v-7c5f1174]{overflow:hidden;margin-top:%?40?%;padding:0 %?50?%}.left-label[data-v-7c5f1174]{width:28%;float:left;font-size:%?26?%}.right-label[data-v-7c5f1174]{width:72%;float:left;font-size:%?26?%}.right-label uni-textarea[data-v-7c5f1174]{max-height:%?140?%;min-height:%?80?%;fontSize:%?28?%;border:1px solid #f2f2f2;width:99%}.hcTopbox[data-v-7c5f1174]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?20?%}.hcSelect[data-v-7c5f1174]{width:50%}.hcSearch[data-v-7c5f1174]{width:50%!important;padding-bottom:0!important}.top_search[data-v-7c5f1174], .hcSearch[data-v-7c5f1174]{width:100%;margin:0 auto;background-color:#fff;position:relative;padding-bottom:%?20?%}.top_search uni-input[data-v-7c5f1174], .hcSearch uni-input[data-v-7c5f1174]{width:90%!important;margin:0;padding-left:%?60?%;border-radius:100px;font-size:%?26?%;color:#a6a6a6;padding-top:%?12?%;border:1px solid #dcdcdc}.top_search[data-v-7c5f1174] .uni-input-input, .top_search[data-v-7c5f1174] .uni-input-placeholder, .hcSearch[data-v-7c5f1174] .uni-input-input, .hcSearch[data-v-7c5f1174] .uni-input-placeholder{font-size:%?26?%!important;color:#a6a6a6!important}.ic_search[data-v-7c5f1174]{color:#898989;position:absolute;left:%?20?%;top:%?20?%}.hcSearch uni-input[data-v-7c5f1174]{width:81%!important}[data-v-7c5f1174] .dropdown-menu .dropdown-menu-head .item{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}[data-v-7c5f1174] .uni-searchbar__box{height:%?60?%}.drop[data-v-7c5f1174]{width:100%}.item-dro[data-v-7c5f1174]{line-height:%?80?%;height:%?80?%;display:block;float:left;width:100%;text-align:center;color:#737373}.td01[data-v-7c5f1174] .uni-numbox{height:%?50?%;line-height:%?50?%;width:%?160?%;margin:0 auto}.td01[data-v-7c5f1174] .uni-numbox__minus, .td01[data-v-7c5f1174] .uni-numbox__plus{height:%?50?%;line-height:%?50?%;width:%?50?%;font-size:%?20?%;background-color:#fff}.td01[data-v-7c5f1174] .uni-numbox__value{height:%?46?%;line-height:%?46?%;width:%?60?%;font-size:%?20?%;margin:0;border-radius:0}.hcListBox[data-v-7c5f1174]{height:%?800?%}.hcSelect[data-v-7c5f1174] .dropdown-item.active{height:%?2000?%!important}.redtxt[data-v-7c5f1174]{color:red;margin-right:%?6?%}.notxt[data-v-7c5f1174]{display:inline-block;width:%?11?%;margin-right:%?6?%}.rowcontent[data-v-7c5f1174] uni-checkbox .uni-checkbox-input{width:%?32?%;height:%?32?%}.approvalyes[data-v-7c5f1174]{display:inline-block;width:100%;height:%?80?%;line-height:%?80?%;text-align:center;color:#fff;background-color:#0369d6;border:1px solid #0369d6;border-radius:%?10?%;margin:0 auto;font-size:%?30?%}.roomlist[data-v-7c5f1174]{height:%?560?%}.roomradio[data-v-7c5f1174]{margin-bottom:%?10?%}.roomradio[data-v-7c5f1174] uni-checkbox .uni-checkbox-input{width:%?32?%;height:%?32?%}.roomselbox[data-v-7c5f1174]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.roomselicon[data-v-7c5f1174]{color:#0369d6;font-size:%?24?%}.sheetsure[data-v-7c5f1174]{text-align:right}.sheet_title[data-v-7c5f1174]{margin-bottom:%?20?%}\n\n/* dropdown样式 */[data-v-7c5f1174] .dropdown-menu,[data-v-7c5f1174] .dropdown-menu .dropdown-menu-head{height:%?60?%!important}[data-v-7c5f1174] .dropdown-menu .dropdown-menu-head .item .title{font-size:%?28?%!important;color:#737373!important}[data-v-7c5f1174] .dropdown-menu .dropdown-menu-head .item.selected .title{color:#737373!important}[data-v-7c5f1174] .dropdown-menu .dropdown-menu-head .item .title:after{border-color:transparent transparent #737373 #737373!important}",""]),t.exports=e},"6de7":function(t,e,i){"use strict";i("a9e3"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-number-box",props:{value:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},cid:{type:String,default:""}},data:function(){return{inputValue:this.value}},computed:{disableSubtract:function(){return this.inputValue<=this.min},disableAdd:function(){return this.inputValue>=this.max}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("change",{value:t,cid:this.cid})}},methods:{_calcValue:function(t){if(!this.disabled){var e=this._getDecimalScale(),i=this.inputValue*e,a=this.step*e;"subtract"===t?i-=a:"add"===t&&(i+=a),i<this.min||i>this.max||(this.inputValue=i/e)}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var e=t.detail.value;e?(e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min),this.inputValue=e):this.inputValue=0}}};e.default=a},"7c51":function(t,e,i){"use strict";i.r(e);var a=i("6de7"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},8729:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("698a").default,uniNumberBoxXg:i("1c8d").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"blockone"},[a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"},[a("v-uni-text",{staticClass:"redtxt"},[t._v("*")]),t._v("课堂名称：")],1),a("v-uni-view",{staticClass:"rowcontent"},[t._v(t._s(t.teachLogData.courseName?t.teachLogData.courseName:"-"))])],1),a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"},[a("v-uni-text",{staticClass:"redtxt"},[t._v("*")]),t._v("班级：")],1),a("v-uni-view",{staticClass:"rowcontent"},[t._v(t._s(t.teachLogData.className))])],1),a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"},[a("v-uni-text",{staticClass:"redtxt"},[t._v("*")]),t._v("教师：")],1),a("v-uni-view",{staticClass:"rowcontent"},[t._v(t._s(t.teachLogData.teacherName))])],1),a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"},[a("v-uni-text",{staticClass:"redtxt"},[t._v("*")]),t._v("实训室：")],1),a("v-uni-view",{staticClass:"rowcontent"},[a("v-uni-view",{staticClass:"roomselbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.roomSelDrop.apply(void 0,arguments)}}},[a("v-uni-text",{staticStyle:{color:"#0369d6"}},[t._v(t._s(t.roomselIds.length>0?"已选择":"请选择"))]),a("i",{staticClass:"iconfont icon-gengduo roomselicon"})],1)],1)],1),a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"},[a("v-uni-text",{staticClass:"redtxt"},[t._v("*")]),t._v("上课时间：")],1),a("v-uni-view",{staticClass:"rowcontent"},[t._v(t._s(t.teachLogData.timetableDate)+" "+t._s(t.teachLogData.selectBeginTime)+"~"+t._s(t.teachLogData.selectEndTime))])],1),a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"},[a("v-uni-text",{staticClass:"notxt"}),t._v("存在异常：")],1),a("v-uni-view",{staticClass:"rowcontent"},[t._v("卫生异常")])],1),a("v-uni-view",{staticClass:"rows"},[a("v-uni-view",{staticClass:"rowtitle"}),a("v-uni-view",{staticClass:"rowcontent"},[t._l(t.pictures,(function(e,i){return a("v-uni-view",{key:i,staticClass:"imgbox"},[a("v-uni-icon",{attrs:{type:"clear",size:"13"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.deletrImg(e,i)}}}),e.url?a("v-uni-image",{staticStyle:{height:"96rpx",width:"96rpx"},attrs:{src:e.url},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.previewImg(e.url)}}}):a("v-uni-image",{staticStyle:{height:"96rpx",width:"96rpx"},attrs:{src:"/static/images/rizhi_moren@3x.png"}})],1)})),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.pictures.length<6,expression:"pictures.length < 6"}],staticClass:"imgbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upPhoto.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{height:"96rpx",width:"96rpx"},attrs:{src:i("b28f")}})],1)],2)],1)],1),a("v-uni-view",{staticClass:"tablebox"},[a("v-uni-view",{staticClass:"tablebox_head"},[a("v-uni-view",{staticClass:"tablebox_head_title"},[a("v-uni-text",{staticClass:"tablebox_head_titlename"},[t._v("设备异常")]),a("v-uni-text",{staticClass:"tablebox_head_titledesc"},[t._v("(报修"),a("v-uni-text",{staticStyle:{color:"#f39800"}},[t._v(t._s(t.deviceRepairList.length>0?t.deviceRepairList.length:0))]),t._v("台套)")],1)],1),a("v-uni-view",{staticClass:"tablebox_head_opreat"},[a("v-uni-text",{staticClass:"btncss",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSheet.apply(void 0,arguments)}}},[t._v("+ 添加")])],1)],1),a("v-uni-view",{staticClass:"tablebox_cont"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.deviceRepairList.length>0,expression:"deviceRepairList.length > 0"}],staticClass:"list"},[a("v-uni-view",{staticClass:"table01"},[a("v-uni-view",{staticClass:"th01"},[a("v-uni-view",{staticClass:"td01 w20",staticStyle:{"border-radius":"5px 0 0 0"}},[t._v("编号")]),a("v-uni-view",{staticClass:"td01 w25"},[t._v("设备名称")]),a("v-uni-view",{staticClass:"td01 w25"},[t._v("损坏情况")]),a("v-uni-view",{staticClass:"td01 w30",staticStyle:{"border-radius":"0 5px 0 0"}},[t._v("损坏原因")])],1),t._l(t.deviceRepairList,(function(e){return a("v-uni-view",{staticClass:"tr01"},[a("v-uni-view",{staticClass:"td01 w20"},[t._v(t._s(e.number))]),a("v-uni-view",{staticClass:"td01 w25"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"td01 w25"},[t._v(t._s(e.damageCause))]),a("v-uni-view",{staticClass:"td01 w30"},[t._v(t._s(e.damageSituation))])],1)}))],2)],1)],1)],1),a("v-uni-view",{staticClass:"tablebox"},[a("v-uni-view",{staticClass:"tablebox_head"},[a("v-uni-view",{staticClass:"tablebox_head_title"},[a("v-uni-text",{staticClass:"tablebox_head_titlename"},[t._v("耗材领用")])],1),a("v-uni-view",{staticClass:"tablebox_head_opreat"},[a("v-uni-text",{staticClass:"btncss",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hcShowSheet.apply(void 0,arguments)}}},[t._v("+ 添加")])],1)],1),0!=t.goodsAllNum?a("v-uni-view",{staticClass:"tablebox_head_other"},[a("v-uni-text",{staticClass:"tablebox_head_titledesc",staticStyle:{"margin-right":"30rpx"}},[t._v("仓库名称："+t._s(t.warehouseName))]),a("v-uni-text",{staticClass:"tablebox_head_titledesc"},[t._v("领用总量："+t._s(t.goodsAllNum))])],1):t._e(),a("v-uni-view",{staticClass:"tablebox_cont"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.selGoodsList.length>0,expression:"selGoodsList.length > 0"}],staticClass:"list"},[a("v-uni-view",{staticClass:"table01"},[a("v-uni-view",{staticClass:"th01"},[a("v-uni-view",{staticClass:"td01 w25",staticStyle:{"border-radius":"5px 0 0 0"}},[t._v("名称")]),a("v-uni-view",{staticClass:"td01 w60"},[t._v("规格")]),a("v-uni-view",{staticClass:"td01 w15",staticStyle:{"border-radius":"0 5px 0 0"}},[t._v("领用数量")])],1),t._l(t.selGoodsList,(function(e){return a("v-uni-view",{staticClass:"tr01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"td01 w60"},[t._v(t._s(e.model))]),a("v-uni-view",{staticClass:"td01 w15"},[t._v(t._s(e.lyNumber))])],1)}))],2)],1)],1)],1),a("v-uni-view",{staticStyle:{width:"100%","text-align":"center",padding:"20rpx"}},[a("v-uni-view",{staticClass:"approvalyes",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.teachSumbit.apply(void 0,arguments)}}},[t._v("提交")])],1),a("uni-popup",{ref:"popup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"sheet"},[a("v-uni-view",{staticClass:"sheet_title"},[a("v-uni-text",{staticClass:"sheet_title_name bluecolor"},[t._v("添加异常设备")])],1),a("v-uni-view",{staticClass:"top_search"},[a("i",{staticClass:"iconfont icon-sousuo ic_search f-15"}),a("v-uni-input",{attrs:{type:"text",placeholder:"搜索设备编号、设备名称",value:t.deviceValue,"adjust-position":"false"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.deviceSearch.apply(void 0,arguments)}}})],1),a("v-uni-scroll-view",{staticClass:"typeListBox",attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"table01 tablef13"},[a("v-uni-view",{staticClass:"th01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v("设备编号")]),a("v-uni-view",{staticClass:"td01 w55 elli"},[t._v("设备名称")]),a("v-uni-view",{staticClass:"td01 w20"},[t._v("操作")])],1),t._l(t.deviceList,(function(e){return a("v-uni-view",{staticClass:"tr01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v(t._s(e.number))]),a("v-uni-view",{staticClass:"td01 w55 elli"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"td01 w20"},[a("v-uni-view",{staticClass:"deviceBtn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickBx(e)}}},[t._v("报修")])],1)],1)}))],2)],1),a("v-uni-view",{staticClass:"sheetBtn"},[a("v-uni-view",{staticClass:"closeBtn50",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hidePop.apply(void 0,arguments)}}},[t._v("关闭")])],1)],1)],1),a("uni-popup",{ref:"bxPopup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"sheet",staticStyle:{width:"660rpx"}},[a("v-uni-view",{staticClass:"sheet_title"},[a("v-uni-text",{staticClass:"sheet_title_name"},[t._v("设备报修")])],1),a("v-uni-view",{staticClass:"bt-bor-item"},[a("v-uni-view",{staticClass:"left-label"},[a("i",{staticStyle:{color:"red","margin-right":"4rpx"}},[t._v("*")]),t._v("报修设备：")]),a("v-uni-view",{staticClass:"right-label"},[t._v(t._s(t.bxDeviceObj.name))])],1),a("v-uni-view",{staticClass:"bt-bor-item"},[a("v-uni-view",{staticClass:"left-label"},[a("i",{staticStyle:{color:"red","margin-right":"4rpx"}},[t._v("*")]),t._v("损坏情况：")]),a("v-uni-view",{staticClass:"right-label"},[a("v-uni-textarea",{staticStyle:{"font-size":"28rpx"},attrs:{"auto-height":"true","placeholder-style":"color:#C0C0C0;fontSize:24rpx;",maxlength:"-1",placeholder:"请输入"},model:{value:t.bxDeviceObj.damageCause,callback:function(e){t.$set(t.bxDeviceObj,"damageCause",e)},expression:"bxDeviceObj.damageCause"}})],1)],1),a("v-uni-view",{staticClass:"bt-bor-item"},[a("v-uni-view",{staticClass:"left-label"},[a("i",{staticStyle:{color:"red","margin-right":"4rpx"}},[t._v("*")]),t._v("损坏原因：")]),a("v-uni-view",{staticClass:"right-label"},[a("v-uni-textarea",{staticStyle:{"font-size":"28rpx"},attrs:{"auto-height":"true","placeholder-style":"color:#C0C0C0;fontSize:24rpx;",maxlength:"-1",placeholder:"请输入"},model:{value:t.bxDeviceObj.damageSituation,callback:function(e){t.$set(t.bxDeviceObj,"damageSituation",e)},expression:"bxDeviceObj.damageSituation"}})],1)],1),a("v-uni-view",{staticClass:"sheetBtn",staticStyle:{padding:"0 40rpx","margin-top":"40rpx"}},[a("v-uni-view",{staticClass:"closeBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bxHidePop.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-view",{staticClass:"saveBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bxSaveCreat.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)],1),a("uni-popup",{ref:"hcPopup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"sheet"},[a("v-uni-view",{staticClass:"sheet_title"},[a("v-uni-text",{staticClass:"sheet_title_name bluecolor"},[t._v("耗材领用")])],1),a("v-uni-view",{staticClass:"hcTopbox"},[a("v-uni-view",{staticClass:"hcSelect"},[a("dropdown-menu",{staticClass:"drop"},[a("dropdown-item",{ref:"roomDropdown",attrs:{title:t.warehouseName}},t._l(t.warehouseList,(function(e){return a("v-uni-view",{staticClass:"item-dro",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.roomdropSelect(e)}}},[t._v(t._s(e.value))])})),1)],1)],1),a("v-uni-view",{staticClass:"hcSearch",staticStyle:{width:"50%"}},[a("i",{staticClass:"iconfont icon-sousuo ic_search f-15"}),a("v-uni-input",{attrs:{type:"text",placeholder:"搜索名称",value:t.houseValue,"adjust-position":"false"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.hcSearch.apply(void 0,arguments)}}})],1)],1),a("v-uni-scroll-view",{staticClass:"hcListBox",attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"table01 tablef13"},[a("v-uni-view",{staticClass:"th01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v("名称")]),a("v-uni-view",{staticClass:"td01 w30"},[t._v("规格")]),a("v-uni-view",{staticClass:"td01 w15"},[t._v("库存数量")]),a("v-uni-view",{staticClass:"td01 w30"},[t._v("领用数量")])],1),t._l(t.goodsList,(function(e){return a("v-uni-view",{staticClass:"tr01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"td01 w30"},[t._v(t._s(e.model))]),a("v-uni-view",{staticClass:"td01 w15"},[t._v(t._s(e.number))]),a("v-uni-view",{staticClass:"td01 w30"},[a("uni-number-box-xg",{attrs:{min:0,max:1e5,value:e.lyNumber,cid:e.goodsId},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.lyChange.apply(void 0,arguments)}}})],1)],1)}))],2)],1),a("v-uni-view",{staticClass:"sheetBtn",staticStyle:{padding:"0 40rpx","margin-top":"40rpx"}},[a("v-uni-view",{staticClass:"closeBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hcHidePop.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-view",{staticClass:"saveBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hcSave.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)],1),a("uni-popup",{ref:"nothcPopup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"sheet"},[a("v-uni-view",{staticClass:"sheet_title"},[a("v-uni-text",{staticClass:"sheet_title_name"},[t._v("以下耗材库存不足")])],1),a("v-uni-scroll-view",{staticClass:"hcListBox",attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"table01"},[a("v-uni-view",{staticClass:"th01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v("名称")]),a("v-uni-view",{staticClass:"td01 w60"},[t._v("规格")]),a("v-uni-view",{staticClass:"td01 w15"},[t._v("领用数量")])],1),t._l(t.notNoughtGoods,(function(e){return a("v-uni-view",{staticClass:"tr01"},[a("v-uni-view",{staticClass:"td01 w25"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"td01 w60"},[t._v(t._s(e.model))]),a("v-uni-view",{staticClass:"td01 w15"},[t._v(t._s(e.lyNumber))])],1)}))],2)],1),a("v-uni-view",{staticClass:"sheetBtn"},[a("v-uni-view",{staticClass:"closeBtn50",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nothcHidePop.apply(void 0,arguments)}}},[t._v("关闭")])],1)],1)],1),a("uni-popup",{ref:"roomPopup",attrs:{type:"bottom"}},[a("v-uni-view",{staticClass:"sheet"},[a("v-uni-view",{staticClass:"sheetsure"},[a("v-uni-view",{staticStyle:{color:"#0369d6"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.roomSelSure.apply(void 0,arguments)}}},[t._v("确定")])],1),a("v-uni-view",{staticClass:"roomlist"},[a("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.roomChange.apply(void 0,arguments)}}},t._l(t.roomListData,(function(e){return a("v-uni-label",{key:e.key},[a("v-uni-view",{staticClass:"roomradio"},[a("v-uni-checkbox",{attrs:{value:e.key,checked:e.checked}}),a("v-uni-text",[t._v(t._s(e.value))])],1)],1)})),1)],1)],1)],1)],1)},n=[]},b28f:function(t,e,i){t.exports=i.p+"static/img/xunke_shangchuan@3x.e1590578.png"},b685:function(t,e,i){var a=i("67cd");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("02accd0f",a,!0,{sourceMap:!1,shadowMode:!1})},e098:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";.uni-numbox[data-v-13c7a818]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:%?70?%;position:relative}.uni-numbox[data-v-13c7a818]:after{content:"";position:absolute;-webkit-transform-origin:center;transform-origin:center;box-sizing:border-box;pointer-events:none;top:-50%;left:-50%;right:-50%;bottom:-50%;border:1px solid #c8c7cc;border-radius:%?12?%;-webkit-transform:scale(.5);transform:scale(.5)}.uni-numbox__minus[data-v-13c7a818],\n.uni-numbox__plus[data-v-13c7a818]{margin:0;background-color:#f8f8f8;width:%?70?%;font-size:%?40?%;height:100%;line-height:%?70?%;text-align:center;color:#333;position:relative}.uni-numbox__value[data-v-13c7a818]{position:relative;background-color:#fff;width:%?80?%;height:100%;line-height:%?70?%;text-align:center;padding:0;\n    /* 解决app端输入框高度超出问题 */min-height:1.2rem}\n\n/* 解决app端输入框高度超出问题(未实现) */\n\n/* .uni-numbox input{\n    height: 100%;\n    line-height: 70upx;\n} */.uni-numbox__value[data-v-13c7a818]:after{content:"";position:absolute;-webkit-transform-origin:center;transform-origin:center;box-sizing:border-box;pointer-events:none;top:-50%;left:-50%;right:-50%;bottom:-50%;border-style:solid;border-color:#c8c7cc;border-left-width:1px;border-right-width:1px;border-top-width:0;border-bottom-width:0;-webkit-transform:scale(.5);transform:scale(.5)}.uni-numbox--disabled[data-v-13c7a818]{color:silver}',""]),t.exports=e},f405:function(t,e,i){"use strict";i.r(e);var a=i("8729"),s=i("4f3a");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("6285");var o,c=i("f0c5"),l=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"7c5f1174",null,!1,a["a"],o);e["default"]=l.exports}}]);