_jsload2&&_jsload2('pcommon', 'function Yh(a){this.M=a;this.Pv=[];this.Jf=p;this.Dl=new bc(p,{Of:"api"});this.ez()}var Zh={none:["-1",""],transit:["0","m_transit.png"],hotel:["1","m_hotel.png"],catering:["2","m_catering.png"],movie:["3","m_movie.png"],transit:["4","m_transit.png"],indoor_scene:["5","m_indoor_scene.png"]};z.Om(function(a){new Yh(a)}); w.extend(Yh.prototype,{ez:function(){var a=this;pano=a.M;pano.addEventListener("visible_poi_type_changed",function(b){a.KZ(b.visiblePOIType)});pano.addEventListener("position_changed",function(){a.Jf&&a.uI()})},KZ:function(a){this.Jf=a;this.uI()},jQ:function(){for(var a=this.Pv.length-1;0<=a;a--)this.M.Rb(this.Pv[a]);this.Pv=[]},uI:function(){this.jQ();if("inter"!==pano.Os()){var a=Zh[this.Jf],b=this.M.ga(),c=this.M.Xb(),d=this;this.Dl.OD(b,200,a[0],function(b){var f=d.M.Xb();if(f===c)for(var g=p, g=p,i=0,k=b.length;i<k;i++)if(g=b[i],15>i||g.panoInfo&&g.panoInfo.panoId==f)g=new Od(g.position,{icon:E.oa+"panorama/"+a[1],title:g.title,altitude:g.altitude,panoInfo:g.panoInfo}),d.M.Ha(g),d.Pv.push(g)})}}});function $h(a,b){this.M=a;this.z=b;this.yq=p;this.Dl=new bc(p,{Of:"api"});this.PA=[];this.Xr();this.Ul()}z.Om(function(a){function b(){var b=a.Os();a.k.indoorSceneSwitchControl==q||"street"==b?c&&c.R():"inter"==b&&(c||(c=new $h(a,a.z)),c.z_(a.Xb()),c.show())}a.addEventListener("scene_type_changed",b);a.addEventListener("indoor_default_switch_mode_changed",b);var c=p}); w.extend($h.prototype,{Ul:function(){this.IP();this.ez()},Dp:function(a){function b(){d.M.Kc({heading:c.heading,pitch:c.pitch});d.M.removeEventListener("position_changed",b)}var c=this.PA[a];this.M.pc(c.panoId);var d=this;this.M.addEventListener("position_changed",b)},next:function(){this.Dp(++this.yq)},QY:function(){this.Dp(--this.yq)},Xr:function(){var a=this.gJ=L("div"),b=a.style;b.position="absolute";b.zIndex="2000";b.width="100%";b.top=b.left="0px";this.z.appendChild(a);this.gg=L("a");this.gg.style.left= "2%";this.gg.href="javascript: void(0);";this.gg.className="pano_switch_left";a.appendChild(this.gg);this.Th=L("a");this.Th.style.right="2%";this.gg.href="javascript: void(0);";this.Th.className="pano_switch_right";F()&&(this.Th.style.height="34px",this.Th.style.width="34px",this.Th.style.borderRadius="17px",this.gg.style.height="34px",this.gg.style.width="34px",this.gg.style.borderRadius="17px");a.appendChild(this.Th);this.gg.style.top=this.Th.style.top=this.M.eh().height/2-14+"px"},z_:function(a){var b= this,c=this.M.Xb();this.Dl.jx(a,function(a){var e=b.M.Xb();e===c&&(b.PA=a,b.nO(e))})},R:function(){this.Oa=q;this.gJ.style.display="none"},show:function(){this.Oa=o;this.gJ.style.display="block"},kh:t("Oa"),nO:function(a){for(var b=this.PA,c=b.length-1;0<=c;c--)b[c].panoId==a&&(this.yq=c);w.C.Qb(this.gg,"pano_switch_disable");w.C.Qb(this.Th,"pano_switch_disable");1===this.yq?w.C.Sa(this.gg,"pano_switch_disable"):this.yq==b.length-1&&w.C.Sa(this.Th,"pano_switch_disable")},IP:function(){var a=this; ha.K(this.gg,"click",function(b){w.C.Rs(b.target,"pano_switch_disable")||a.QY()});ha.K(this.Th,"click",function(b){w.C.Rs(b.target,"pano_switch_disable")||a.next()})},ez:function(){var a=this,b=a.M;b.addEventListener("position_changed",function(){if(a.kh()){var c=b.Xb();a.nO(c)}})}});function ai(a){Kd.call(this);this.M=a;this.Dl=new bc(p,{Of:"api"});this.wq={admission:"",photoDate:"",roadName:"",providerUrl:"",providerName:""};this.Hr=p;this.rr=[];this.BA=o;this.pa()}z.Om(function(a){new ai(a)});w.lang.sa(ai,Kd,"PanoramaCopyright"); w.extend(ai.prototype,{pa:function(){this.z=this.Jj(1900);this.M.La();this.M.La().appendChild(this.z);var a=this;this.Dl.TK(function(b){a.rr=b;a.ya()});this.ba(this.M);this.M.k.copyrightControlOptions.logoVisible==q&&this.ox()},ya:function(){var a=this.AR(),b=[];b.push(\'<div style="width: 1000px; overflow:hidden;">\');if(this.BA){b.push(\'<a target="_blank" title="\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b\\u6b64\\u533a\\u57df" href=\'+this.M.OK()+\' style="outline:none;float:left;margin-left:3px">\');var c= E.oa+"copyright_logo.png";F()?(c=E.oa+"copyright_logo_hd.png",b.push("<img style=\'border:none;width:68px;height:25px;vertical-align:bottom;\' src=\'"+c+"\' />")):6==w.ca.ka?b.push("<div style=\'float: left;cursor:pointer;width:77px;height:32px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c+")\'></div>"):b.push("<img style=\'border:none;width:77px;height:32px;vertical-align:bottom;\' src=\'"+c+"\' />");b.push("</a>")}b.push(\'<div style="float:left;\');F()?b.push(\'margin-top:8px;font-family:sans-serif;">\'): (b.push("margin-top:13px;"),w.platform.ML?b.push(\'font-family:sans-serif;">\'):b.push(\'">\'));a.roadName&&b.push(\'<span style="margin-left: 5px;">\'+a.roadName+"</span><span>|</span>");a.providerName&&(a.providerUrl?b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span><a style="text-decoration: none;color: rgb(54, 54, 54);" target="_blank" href="\'+a.providerUrl+\'" style="display:inline;">\'+a.providerName+"</a></span>"):b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span>\'+a.providerName+ "</span>"));b.push(\'<span style="margin-left: 5px;">\'+a.admission+"</span>");b.push(\'<span style="margin-left: 5px;">\\u62cd\\u6444\\u65e5\\u671f:\'+a.photoDate+"</span>");b.push("</div>");b.push("</div>");this.z.innerHTML=b.join("")},Jj:function(a){var b=L("div"),c=b.style;c.overflow="hidden";c.position="absolute";c.bottom=c.left="0";c.zIndex=a||"0";c.width="100%";c.fontSize="11px";c.height=F()?"27px":"34px";c.G3="none";c.WebkitTextSizeAdjust="none";c.WebkitUserSelect="none";c.visibility="hidden";c.fontFamily= "sans-serif";c.color="rgb(54, 54, 54)";c.lineHeight="20px";return b},ba:function(a){var b=this;a.addEventListener("copyright_changed",function(a){a.copyright&&(b.Hr=a.copyright,b.ya())});a.addEventListener("visible_changed",function(){b.z.style.visibility=a.ND()?"visible":"hidden"});a.addEventListener("copyright_options_changed",function(){a.k.copyrightControlOptions.logoVisible==q?b.ox():b.lF()})},AR:function(){if(this.Hr){for(var a in this.wq)this.wq[a]=this.Hr[a];a=this.bX(this.Hr.dataProviderIndex); this.wq.providerName=a.name+this.Hr.username;this.wq.providerUrl=a.url}return this.wq},bX:function(a){for(var b={name:"",url:"",id:""},c=this.rr.length-1;0<=c;c--)if(this.rr[c].id==a){var b=this.rr[c],d;for(d in b)b[d]=w.trim(this.rr[c][d])}return b},ox:function(){/baidu\\.com/.test(document.domain)&&(this.BA=q,this.ya())},lF:function(){this.BA=o;this.ya()}}); ');
