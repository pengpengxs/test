_jsload2&&_jsload2('poly', 'function dg(a,b){cb.call(this);this.point=a;this.type=b;this.w={}}w.lang.sa(dg,cb,"Vertex"); w.extend(dg.prototype,{initialize:function(a){this.map=a;var b="",b=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node",c=this.SG=this.U=document.createElement("div");c.className=b;a.Qf().yO.appendChild(c);this.iA();return c},draw:function(){var a=this.map.Re(this.point);this.SG.style.left=a.x-5+"px";this.SG.style.top=a.y-5+"px"},ra:function(a){a instanceof H&&(this.point=this.w.point=new H(a.lng,a.lat),this.draw())},ga:t("point"),iA:function(){function a(a,b){b.pixel=b.hb=a.hb; b.point=b.point=a.point;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new P(b,c)}if(this.U&&!this.U.Hi){this.U.Hi=o;var c=this.map,d=this,e=0,f=0,g=0,i={x:0,y:0};this.rs=function(a){na(a);if(2!=a.button){d.il=o;var i=c.$b(d.point),m=b(a);e=m.x-i.x;f=m.y-i.y;g=Ya();d.map.P.Nu=d;w.K(document,"mousemove",d.gj);w.K(document,"mouseup",d.fj);w.K(document,"touchmove",d.gj);w.K(document,"touchend",d.fj);d.U&&d.U.setCapture&& d.U.setCapture();d.U.style.cursor=d.w.Bd;"touchstart"==a.type&&ma(a)}};this.gj=function(g){if(d.il){g=b(g);i=g=new P(g.x-e,g.y-f);d.Hz=g;var l=d.map.tb(g),m={hb:g,point:l};d.vl=d.wl=0;if(20>=g.x||g.x>=d.map.width-20||50>=g.y||g.y>=d.map.height-10){if(20>=g.x?d.vl=8:g.x>=d.map.width-20&&(d.vl=-8),50>=g.y?d.wl=8:g.y>=d.map.height-10&&(d.wl=-8),!d.Be)d.Be=setInterval(function(){c.xg(d.vl,d.wl,{noAnimation:o});var a=c.tb(d.Hz);d.ra(a)},30)}else d.Be&&(clearInterval(d.Be),d.Be=p),d.ra(l);d.al||(d.dispatchEvent(a(m, new N("ondragstart"))),d.al=o);d.dispatchEvent(a(m,new N("ondragging")))}};this.fj=function(){d.U&&d.U.releaseCapture&&d.U.releaseCapture();d.il=q;d.map.P.Nu=p;w.xe(document,"mousemove",d.gj);w.xe(document,"mouseup",d.fj);w.xe(document,"touchmove",d.gj);w.xe(document,"touchend",d.fj);e=f=0;d.Be&&(clearInterval(d.Be),d.Be=p);if(100<=Ya()-g&&(2<i.x||2<i.y))d.al=q,d.dispatchEvent(a({hb:d.map.$b(d.ga()),point:d.ga()},new N("ondragend"))),i.x=i.y=0;d.Il();d.U&&(d.U.style.cursor=d.w.ff?"pointer":"")};w.K(this.U, "mousedown",this.rs);w.K(this.U,"touchstart",this.rs)}}});w.extend(pc.prototype,{SP:function(a){return this.repeat?this.UP(a):this.TP(a)},UP:function(a){var b=this.repeat,c=[],d,e,f;if(this.rI){d=Math.floor(1/this.repeat)+1;for(e=0;e<d;e++)c.push(eg(a,1-b*e,o))}else{f=a.Si[a.Si.length-1];d=Math.floor(f/b)+1;for(e=0;e<d;e++)c.push(eg(a,f-e*b,q))}return c},TP:function(a){return[eg(a,this.Wj,this.qI)]},hide:function(){if(this.Sc&&0<this.Sc.length)for(var a=this.Sc.length-1;0<=a;a--)this.Sc[a].R()},show:function(){if(this.Sc&&0<this.Sc.length)for(var a=this.Sc.length- 1;0<=a;a--)this.Sc[a].show()}});function eg(a,b,c){var d=a.ha;if(c){if(0>=b)return{point:d[0],index:1};if(1<=b)return{point:d[d.length-1],index:d.length-1};c=a.vS*b;b=fg(c,a.Cl);a=(c-a.Cl[b-1])/(a.Cl[b]-a.Cl[b-1])}else{c=b;b=a.Si[a.Si.length-1];if(0>=c)return{point:d[0],index:1};if(c>=b)return{point:d[d.length-1],index:d.length-1};b=fg(c,a.Si);a=(c-a.Si[b-1])/(a.Si[b]-a.Si[b-1])}c=d[b-1];d=d[b];return{point:new H(c.lng+(d.lng-c.lng)*a,c.lat+(d.lat-c.lat)*a),index:b}} w.hc.indexOf=function(a,b,c){var d=a.length,c=c|0;for(0>c&&(c=Math.max(0,d+c));c<d;c++)if(c in a&&a[c]===b)return c;return-1};function fg(a,b){var c=gg(b.concat(a));return w.hc.indexOf(c,a)}function gg(a){if(2>a.length)return a;for(var b=Math.floor(a.length/2),c=a.slice(0,b),a=a.slice(b),c=gg(c),a=gg(a),b=[];0<c.length&&0<a.length;)c[0]>a[0]?b.push(a.shift()):b.push(c.shift());return b.concat(c).concat(a)};w.extend(lc.prototype,{initialize:function(a){a&&this.Xu&&a.addEventListener("onmousemove",this.Xu);a=cb.prototype.initialize.call(this,a);this.w.Nf===o&&(this.ik(),this.Nl());return a},Ej:function(){this.U=(this.Ln=hg.Fs(this.map)).qo()},ba:function(){function a(a,b){var c=a.srcElement||a.target,g=Ab(),i=a.pageX?a.pageX:a.clientX+g[1],g=a.pageY?a.pageY:a.clientY+g[0];if(a&&b&&i&&g&&c){var c=w.lang.Yd(c.aa).map,k=w.C.ga(c.Ta);b.hb=new P(i-k.left,g-k.top);b.point=c.tb(b.hb);b.pixel=b.hb;b.point=b.point}return b} var b=this.U,c=this;"canvas"!==hg.Fs(this.map).Zo()&&!F()&&(c.w.ff&&(b.style.cursor="pointer",w.K(b,"click",function(b){c.ZH&&c.ZH.lb(c.map.Ia())&&c.dispatchEvent(a(b,la(new N("onclick"),b)))}),w.K(b,"dblclick",function(b){c.dispatchEvent(a(b,la(new N("ondblclick"),b)))}),(!w.ca.kf||4>w.ca.kf)&&w.K(this.U,"contextmenu",function(b){c.dispatchEvent(a(b,la(new N("onrightclick"),b)))})),w.K(b,"mousedown",function(b){c.dispatchEvent(a(b,la(new N("onmousedown"),b)));c.ZH=c.map.Ia()}),w.K(b,"mouseup",function(b){c.dispatchEvent(a(b, la(new N("onmouseup"),b)))}),w.K(this.U,"mouseup",function(b){c.dispatchEvent(a(b,la(new N("onmouseup"),b)));w.ca.kf>=4&&(b.button===2&&c.w.ff)&&c.dispatchEvent(a(b,la(new N("onrightclick"),b)))}));b=p;this.Hi||(this.Hi=o,this.Xu=function(a){if(c.map&&!c.map.P.Nu){var b=c.TR(a.point),f=parseFloat(b.za),g;if(f<c.w.AM){g=c.Pa.Bx?new N("onmousemove"):new N("onmouseover");c.Pa.VL=q;c.Pa.Bx=o}else if(!c.Pa.VL&&c.Pa.Bx){g=new N("onmouseout");c.Pa.Bx=q;c.Pa.VL=o}if(g){if(!(c instanceof Ac)&&g.type==="onmousemove"&& c.Pa.Bx===o&&(f===0||f>c.w.AM)){g.pixel=g.hb=a.hb;g.point=g.point=a.point}else{g.point=g.point=this.XM(b.hb);g.pixel=g.hb=this.$b(g.point)}c.dispatchEvent(g)}}},this.map.addEventListener("onmousemove",this.Xu),this.addEventListener("mouseover",s()),this.addEventListener("mouseout",s()))},draw:function(a){this.U&&this.Ln&&("canvas"===this.Ln.Jb&&this.wv?(this.wv(),this.Ln.ee(this.U,this.Oq(this.ha),this.w)):this.Ln.ee(this.U,this.Oq(this.ha)),this instanceof Ac&&this.w.ki&&this.VQ(a))},vb:function(){this.map&& (this.initialize(this.map),this.U.style.WebkitUserSelect="none",this.draw())},Oq:function(a){var b=this.map,c=[],d=b.Dd(),e=this.Dd();if(!d.Xs(e)||0===a.length||!this.U||!this.kh())return[c];this.w.Nf||(d=this.om(b.ea()),this.bf[d]?a=this.bf[d]:(a=ig(a,this.rk(b.ea())),a=this.bf[d]=a));d=this.w.B_;c.push(b.Re(a[0],p,d));for(var f=e=1,g=a.length;e<g;e++){var i=b.Re(a[e],p,d);i.lb(c[f-1])||(c.push(i),f++)}return[c]},om:function(a){return this.w.om?this.w.om(a):6>a?0:10>a?1:15>a?2:3},rk:function(a){return this.w.rk? this.w.rk(a):lc.BE[this.om(a)]},Ar:function(a){this.bf.length=0;a=lc.Vw(a);this.lo=a.slice(0,a.length-1);this.ha=a.slice(0);this.Ch();this.draw();this.dispatchEvent(new N("onlineupdate"))},ee:function(a){this.Ar(a);this.w.Nf===o&&(this.ik(),this.Nl())},Zm:function(a,b){b&&this.ha[a]&&(this.bf.length=0,this.ha[a]=new H(b.lng,b.lat),this.Ch(),this.w.Nf===o&&(this.ik(),this.Nl()),this.draw(),this.dispatchEvent(new N("onlineupdate")))},setStrokeColor:function(a){this.w&&(this.w.strokeColor=a);this.El("strokecolor", a)},Ip:function(a){0<a&&(this.w.lc=a,this.El("strokeweight",a),"dashed"===this.iL()&&(this.map&&"svg"===hg.Fs(this.map).Zo())&&this.El("strokestyle","dashed"))},Gp:function(a){a===j||(1<a||0>a)||(this.w.nd=a,this.map&&this.El("strokeopacity",a))},Dt:function(a){1<a||0>a||(this.w.qg=a,this.El("fillopacity",a))},Hp:function(a){"solid"!==a&&"dashed"!==a||(this.w.strokeStyle=a,this.El("strokestyle",a))},setFillColor:function(a){this.w.fillColor=a||"";this.El("fillcolor",a)},El:function(a,b){this.Ln&& (this.Ln.setAttribute(this.U,a,b||"",this.jL()),this.dispatchEvent(new N("onlineupdate")))},Nl:function(){var a=this;if(!a.mc.length)for(var b=this.oL(),c=function(b){a.lv(b)},d=s(),e=function(b){a.LA(b)},f=0,g=b.length;f<g;f++){var i=b[f],k=new dg(i.Lb,i.yc);k.addEventListener("ondragging",c);k.addEventListener("ondragstart",d);k.addEventListener("ondragend",e);k.index=f;k.yc=i.yc;this.mc.push(k);this.map.Ha(k)}},ik:function(){for(var a;a=this.mc.pop();)this.map.Rb(a);this.mc.length=0},oL:function(){for(var a= [],b=0,c=this.ha.length;b<c;b++){var d=this.ha[b];a.push({Lb:d,yc:0});if(b<c-1){var e=this.ha[b+1],d=new H((d.lng+e.lng)/2,(d.lat+e.lat)/2);a.push({Lb:d,yc:1})}}return this.Pc=a},y0:s(),LA:function(a){this.Pa.ej&&(this.map.Rb(this.Pa.ej),delete this.Pa.ej);this.Pa.ui&&(this.map.Rb(this.Pa.ui),delete this.Pa.ui);this.Pa.pi&&(this.map.Rb(this.Pa.pi),delete this.Pa.pi);var b=a.point,a=a.currentTarget.index,c;if(0!==a%2){this.Cz(a);this.iq(a,b,0);var d=this.Pc[a-1].Lb;c=this.Pc[a+1].Lb;d=this.Cs(d,b); c=this.Cs(b,c);this.iq(a,d,1);this.iq(a+2,c,1);a=Math.ceil(a/2);c=this.ha.slice();a=c.splice(a,this.ha.length-a);c[c.length]=b;c=c.concat(a)}else this.Pc[a].Lb=b,0<=a-2&&(d=this.Pc[a-2].Lb,d=this.Cs(d,b),this.mc[a-1].show(),this.mc[a-1].ra(d)),a+2<this.Pc.length&&(c=this.Pc[a+2].Lb,c=this.Cs(b,c),this.mc[a+1].show(),this.mc[a+1].ra(c)),this instanceof zc&&this.Pc.length-1===a&&(this.Cz(0),this.iq(0,b,0),this.Cz(1),this.iq(1,this.Cs(this.Pc[0].Lb,this.Pc[1].Lb),1),this.mc[0].U.style.zIndex="-10000000"), a/=2,this.ha.splice(a,1,b),this instanceof zc&&this.ha.length-1===a&&this.ha.splice(0,1,b),c=this.ha;b=0;for(a=this.mc.length;b<a;b++)this.mc[b].index=b;this.ha=c;this.Ar(c)},iq:function(a,b,c){var d=this;this.Pc.splice(a,0,{Lb:b,yc:c});b=new dg(b,c);b.addEventListener("ondragging",function(a){d.lv(a)});b.addEventListener("ondragstart",s());b.addEventListener("ondragend",function(a){d.LA(a)});b.index=a;b.yc=c;this.mc.splice(a,0,b);this.map.Ha(b)},Cz:function(a){this.map.Rb(this.mc[a]);this.Pc.splice(a, 1);this.mc.splice(a,1)},Cs:function(a,b){return new H((a.lng+b.lng)/2,(a.lat+b.lat)/2)},TR:function(a){var b,c,d,e,f,g,i=[],k=this.map.Re(a),i=this.Oq(this.ha)[0],l=i.length;if(1<l){for(e=1;e<l;e++){var m=i[e-1],n=i[e];if(m&&n){m.x!==n.x?(f=(n.y-m.y)/(n.x-m.x),f=Math.abs(f*k.x+(n.y-f*n.x)-k.y)/Math.sqrt(f*f+1)):f=Math.abs(k.x-n.x);var u=Math.pow(n.y-m.y,2)+Math.pow(n.x-m.x,2),n=Math.pow(n.y-k.y,2)+Math.pow(n.x-k.x,2),m=Math.pow(m.y-k.y,2)+Math.pow(m.x-k.x,2),v=Math.pow(f,2);n-v+m-v>u&&(f=Math.sqrt(Math.min(n, m)));if(b==p||b>f)c=Math.sqrt(m-v)/Math.sqrt(u),d=Math.sqrt(n-v)/Math.sqrt(u),b=f,g=e;b=Math.min(b,f)}}if(!(this instanceof Ac)){f=k=0;u=this.ha;for(e=0;e<l;e++)k=e===l-1?0:k+1,u[e].lat!==u[k].lat&&((a.lat>=u[e].lat&&a.lat<u[k].lat||a.lat>=u[k].lat&&a.lat<u[e].lat)&&a.lng<(u[k].lng-u[e].lng)*(a.lat-u[e].lat)/(u[k].lat-u[e].lat)+u[e].lng)&&f++;b=Math.min(b,0<f%2?0:b)}1<c&&(c=1);1<d&&(c=0);a=i[g-1].y-i[g].y;e=i[g-1].x-(i[g-1].x-i[g].x)*c;f=i[g-1].y-a*c}return{hb:new P(e,f),za:b}},show:function(){cb.prototype.show.call(this); this.draw();this.w.Nf===o&&this.Nl()},R:function(){cb.prototype.R.call(this);this.w.Nf===o&&this.ik()},remove:function(){jc.prototype.remove.call(this);this.w.Nf===o&&this.ik()}});function jg(a,b){var c={top:0,bottom:0,right:0,left:0,all:0},d=a.x,e=a.y;e<b.yM?(c.top=8,c.all+=c.top):e>b.uM&&(c.bottom=4,c.all+=c.bottom);d>b.tM?(c.right=2,c.all+=c.right):d<b.xM&&(c.left=1,c.all+=c.left);return c} function ig(a,b){if(1>=a.length)return a;var c=a,d=b!==j?b*b:1,e=c.length,f=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(e),g=0,i=e-1,k=[],l=[],m,n,u,v;for(f[g]=f[i]=1;i;){n=0;for(m=g+1;m<i;m++){u=c[m];var x=c[g],y=c[i],C=x.lng,x=x.lat,A=y.lng-C,D=y.lat-x;if(0!==A||0!==D){var B=((u.lng-C)*A+(u.lat-x)*D)/(A*A+D*D);1<B?(C=y.lng,x=y.lat):0<B&&(C+=A*B,x+=D*B)}A=u.lng-C;D=u.lat-x;u=A*A+D*D;u>n&&(v=m,n=u)}n>d&&(f[v]=1,k.push(g,v,v,i));i=k.pop();g=k.pop()}for(m=0;m<e;m++)f[m]&&l.push(c[m]);return l} T(Ye,{show:Ye.show,hide:Ye.R,remove:Ye.remove,setPath:Ye.ee,setPositionAt:Ye.Zm,setStrokeColor:Ye.setStrokeColor,setStrokeWeight:Ye.Ip,setStrokeOpacity:Ye.Gp,setFillOpacity:Ye.Dt,setStrokeStyle:Ye.Hp,setFillColor:Ye.setFillColor});w.extend(Ac.prototype,{initialize:function(a){lc.prototype.initialize.call(this,a);this.CI=[0];this.yr=[0];this.Cl=[0];for(var a=1,b=this.ha,c=b.length;a<c;a++){this.CI[a]=Q.Oo(b[a],b[a-1]);var d=Q.wb(b[a-1]),e=Q.wb(b[a]);this.yr[a]=90-180*Math.atan2(e.lat-d.lat,e.lng-d.lng)/Math.PI;this.Cl[a]=this.Cl[a-1]+this.CI[a]}this.vS=this.Cl[c-1];this.wv();this.vv={};return this.U},wv:function(){this.setFillColor("");this.setStrokeColor(this.w.strokeColor);this.Ip(this.w.lc);this.Hp(this.w.strokeStyle);this.Gp(this.w.nd)}, Oq:function(a){var b=this.map,c=[],d=b.Dd(),e=this.Dd();if(!d.Xs(e)||0==a.length||!this.U||!this.kh())return[c];!(F()&&5E3<a.length)&&!this.w.Nf&&(d=this.om(b.ea()),this.bf[d]?a=this.bf[d]:(e=ig(a,this.rk(b.ea())),a=this.bf[d]=e));c.push(b.Re(a[0]));for(var f=d=1,e=a.length;d<e;d++){var g=b.Re(a[d]);g.lb(c[f-1])||(c.push(g),f++)}a=[];d=b.offsetX;e=b.offsetY;f=b.D.Jw;b={xM:-d-f,yM:-e-f,tM:-d+f+b.width,uM:-e+f+b.height};d=0;for(e=c.length-1;d<e;d++){var i=c[d],k=c[d+1],f=b,l=g=q,m=q,i=new P(i.x,i.y), k=new P(k.x,k.y),n=jg(i,f),u=jg(k,f),v=j,x=j,y=j,C=f.xM,A=f.yM,D=f.tM,B=f.uM;do 0===n.all&&0===u.all?m=g=o:0!==(n.all&u.all)?m=o:(v=0!==n.all?n:u,v.top?(x=i.x+(k.x-i.x)*(A-i.y)/(k.y-i.y),y=A):v.bottom?(x=i.x+(k.x-i.x)*(B-i.y)/(k.y-i.y),y=B):v.right?(y=i.y+(k.y-i.y)*(D-i.x)/(k.x-i.x),x=D):v.left&&(y=i.y+(k.y-i.y)*(C-i.x)/(k.x-i.x),x=C),l=o,v.all===n.all)?(i.x=Math.round(x),i.y=Math.round(y),n=jg(i,f)):(k.x=Math.round(x),k.y=Math.round(y),u=jg(k,f));while(!m);f=g?{aN:new P(i.x,i.y),bN:new P(k.x,k.y), clip:l?o:q}:j;f&&a.push(f)}c=[[]];d=0;for(e=a.length;d<e;d++)a[d].clip?(c[c.length-1].push(a[d].aN),c[c.length-1].push(a[d].bN),a[d+1]&&a[d+1].clip&&c.push([])):(c[c.length-1].push(a[d].aN),d==a.length-1&&c[c.length-1].push(a[d].bN));return c},hide:function(){lc.prototype.R.call(this);if(this.w.ki&&0<this.w.ki.length)for(var a=0,b=this.w.ki.length;a<b;a++)this.w.ki[a].hide()},show:function(){lc.prototype.show.call(this);if(this.w.ki&&0<this.w.ki.length)for(var a=0,b=this.w.ki.length;a<b;a++)this.w.ki[a].show()}, VQ:function(a){var b=this.$w(),c=b.ea(),d=b.Dd();icons=this.w.ki;displayPixels=lc.prototype.Oq.call(this,this.ha);if(this.vv[c]&&0<this.vv[c].length)this.Si=this.vv[c];else{for(var e=[0],f=1,g=displayPixels[0],i=g.length;f<i;f++)e[f]=e[f-1]+Cb(g[f],g[f-1]);this.Si=this.vv[c]=e}for(f=0;f<icons.length;f++){var e=icons[f],g=e.b_,k,l;e.pv[c]&&0<e.pv[c].length?l=e.pv[c]:e.pv[c]=l=e.SP(this);if(1===l.length)d.Vr(l[0].point)&&(e.Sc[0]&&(b.Rb(e.Sc[0]),e.Sc[0].remove()),e.IK||(7===g.Jb||5===g.Jb?g.Fp(-180+ this.yr[l[0].index]):g.Fp(this.yr[l[0].index])),e.Sc[0]=new U(l[0].point,{icon:g}),b.Ha(e.Sc[0]));else if(1<l.length){var m=[],n,u={};if(a&&"onzoomend"===a.type){for(var v in e.Sc)b.Rb(e.Sc[v]),e.Sc[v].remove();e.Sc=[]}else w.hc.Db(e.Sc,function(a){d.Vr(a.ga())?(n=""+a.ga().lat+(""+a.ga().lng),u[n]=o,m.push(a)):(b.Rb(a),a.remove())}),e.Sc=m;for(v=0;v<l.length;v++){k=l[v].index;var i=l[v].point,x=""+i.lat+(""+i.lng);d.Vr(i)&&!u[x]&&(e.IK||(7===g.Jb||5===g.Jb?g.setRotation(-180+this.yr[k]):g.setRotation(this.yr[k])), i=new U(i,{icon:g}),e.Sc.push(i),b.Ha(i))}}}},lv:function(a){var b=a.currentTarget,c=a.point,d=b.index,e=this.Pc,f,g=a=p;if(0==d){var i=e[d+2].Lb;f=[c,i];a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2);this.mc[d+1]&&this.mc[d+1].R()}else if(d==e.length-1){var k=e[d-2].Lb;f=[k,c];a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2);this.mc[d-1]&&this.mc[d-1].R()}else k=e[d-1].Lb,i=e[d+1].Lb,f=[k,c,i],b.yc||(k=e[d-2].Lb,i=e[d+2].Lb,f=[k,c,i],a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2),g=new H((i.lng+c.lng)/2,(i.lat+c.lat)/ 2),this.mc[d-1]&&this.mc[d-1].R(),this.mc[d+1]&&this.mc[d+1].R());this.Pa.ej?(this.Pa.ej.ee(f),this.Pa.ej.show()):(b=new Ac(f,{strokeStyle:"dashed",strokeColor:this.w.strokeColor,lc:this.w.lc,nd:this.w.nd}),this.map.Ha(b),b.R(),this.Pa.ej=b);!this.Pa.ui&&a?(this.Pa.ui=new dg(a,1),this.map.Ha(this.Pa.ui)):a&&this.Pa.ui.ra(a);!this.Pa.pi&&g?(this.Pa.pi=new dg(g,1),this.map.Ha(this.Pa.pi)):g&&this.Pa.pi.ra(g)}});w.hc.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a};w.extend(zc.prototype,{initialize:function(a){lc.prototype.initialize.call(this,a);this.setStrokeColor(this.w.strokeColor);this.Ip(this.w.lc);this.Hp(this.w.strokeStyle);this.setFillColor(this.w.fillColor);this.Gp(this.w.nd);this.Dt(this.w.qg);return this.U},Zm:function(a,b){this.lo[a]&&(this.bf.length=0,this.lo[a]=new H(b.lng,b.lat),this.ha[a]=new H(b.lng,b.lat),0==a&&!this.ha[0].lb(this.ha[this.ha.length-1])&&(this.ha[this.ha.length-1]=new H(b.lng,b.lat)),this.Ch(),this.w.Nf==o&&(this.ik(),this.Nl()), this.draw(),this.dispatchEvent(new N("onlineupdate")))},wv:function(){this.setStrokeColor(this.w.strokeColor);this.Ip(this.w.lc);this.Hp(this.w.strokeStyle);this.setFillColor(this.w.fillColor);this.Gp(this.w.nd);this.Dt(this.w.qg)},containPoint:function(a){var b=this.ha,c=q;if(!(!a instanceof H)){if(this.Au.Vr(a)){for(var d=a.lat,a=a.lng,e=0,f=b.length-1;e<b.length;f=e++){var g=b[e].lat,i=b[e].lng,k=b[f].lat,f=b[f].lng;i>a!=f>a&&d<(k-g)*(a-i)/(f-i)+g&&(c=!c)}return c}return q}},lv:function(a){var b= a.currentTarget,c=a.point,d=b.index,e=this.Pc,f,g=a=p;if(0==d){var i=e[e.length-2].Lb,k=e[d+2].Lb;f=[i,c,k];b.yc||(a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2))}else d==e.length-1?(k=e[2].Lb,i=e[d-2].Lb,f=[i,c,k],b.yc||(a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2))):(i=e[d-1].Lb,k=e[d+1].Lb,f=[i,c,k],b.yc||(i=e[d-2].Lb,k=e[d+2].Lb,f=[i,c,k],a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2),this.mc[d- 1]&&this.mc[d-1].R(),this.mc[d+1]&&this.mc[d+1].R()));this.Pa.ej?this.Pa.ej.ee(f):(b=new Ac(f,{strokeStyle:"dashed",strokeColor:this.w.strokeColor,lc:this.w.lc,nd:this.w.nd}),this.map.Ha(b),this.Pa.ej=b);!this.Pa.ui&&a?(this.Pa.ui=new dg(a,1),this.map.Ha(this.Pa.ui)):a&&this.Pa.ui.ra(a);!this.Pa.pi&&g?(this.Pa.pi=new dg(g,1),this.map.Ha(this.Pa.pi)):g&&this.Pa.pi.ra(g)}});T($e,{setPositionAt:$e.Zm});w.extend(Bc.prototype,{initialize:function(a){zc.prototype.initialize.call(this,a);this.ha=this.Tu(this.point,this.va);this.Ch();return this.U},Vf:function(a,b){a&&(this.bf.length=0,b||(this.Pc=p),this.point=a,this.ha=this.Tu(a,this.va),this.Ch(),this.draw(),this.dispatchEvent(new N("onlineupdate")))},rf:function(a,b){isNaN(a)||(this.bf.length=0,b||(this.Pc=p),this.va=Math.abs(a),this.ha=this.Tu(this.point,this.va),this.Ch(),this.draw(),this.dispatchEvent(new N("onlineupdate")))},rk:function(a){return this.w.rk? this.w.rk(a):Bc.BE[this.om(a)]},lv:function(a){var b,a=a.currentTarget,c=this.Pc;b=c[0].Lb;c=c[c.length-1].Lb;0==a.index?(b=a.ga(),a=c):a=a.ga();this.rf(Q.Oo(b,a),o);this.Vf(b,o)},LA:function(a){var a=a.currentTarget,b=a.index;this.Pc[0]={Lb:this.point,yc:0};1==b&&(this.Pc[1]={Lb:a.point,yc:0});this.ik();this.Nl()},oL:function(){if(!this.Pc){var a=[];a.push({Lb:this.point,yc:0});a.push({Lb:this.ha[Math.floor(3*this.ha.length/4)],yc:0});this.Pc=a}return this.Pc}});T(Ze,{setCenter:Ze.Vf,setRadius:Ze.rf});var hg={Fs:function(a){hg["_"+a.aa]||(hg["_"+a.aa]={});switch(a.D.uK){case 1:return hg.kL(a);case 2:return hg.pL(a);case 3:return hg.qD(a)}if(F()&&hg.RL()&&4!==a.D.uK)return hg.qD(a);if(hg.YX())return hg.kL(a);if(hg.ZX())return hg.pL(a);if(hg.RL())return hg.qD(a)},kL:function(a){hg["_"+a.aa].VI||(hg["_"+a.aa].VI=new z.kP(a));return hg["_"+a.aa].VI},pL:function(a){hg["_"+a.aa].fJ||(hg["_"+a.aa].fJ=new z.nP(a));return hg["_"+a.aa].fJ},qD:function(a){hg["_"+a.aa].DG||(hg["_"+a.aa].DG=new z.MO(a));return hg["_"+ a.aa].DG},ZX:function(){if(Eb(hg.WN))return hg.WN;var a=Ib();return hg.WN=a},YX:function(){Eb(hg.VN)||(hg.VN=Jb());return hg.VN},RL:function(){Eb(hg.UN)||(hg.UN=Kb());return hg.UN}};z.Wp=hg; ');
