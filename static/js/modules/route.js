_jsload2&&_jsload2('route', 'var ch={web:"http://api.map.baidu.com/direction?",android:"bdapp://map/direction?",ios:"baidumap://map/direction?"};function dh(a){this.city=a.city;this.Cv=a.start;this.Pu=a.end;this.lr=a.ut;this.moreResultsUrl=a.url;this.taxiFare=a.XN||p;this.ZT=a.QN||cd;this.bR=a.BK||cd}w.extend(dh.prototype,{pj:t("Cv"),gh:t("Pu"),iX:t("ZT"),FW:t("bR"),dx:function(){return this.lr.length},nf:function(a){if(this.lr[a])return this.lr[a]}});function eh(a){dh.call(this,a);this.policy=a.Yc}w.sa(eh,dh,"DrivingRouteResult"); function fh(a){dh.call(this,a)}w.sa(fh,dh,"WalkingRouteResult");function gh(a){dh.call(this,a);this.policy=a.Yc}w.sa(gh,dh,"TransitRouteResult");var hh=dh.prototype;T(hh,{getStart:hh.pj,getEnd:hh.gh,getStartStatus:hh.iX,getEndStatus:hh.FW,getNumPlans:hh.dx,getPlan:hh.nf});function ih(a){this.$j=a.TE.slice(0);this.cg=a.jd||0;this.Fq=a.duration||0;this.LQ=a.WV||[]}w.extend(ih.prototype,{ih:function(a){if(this.$j[a])return this.$j[a]},Ms:function(){return this.$j.length},Pe:function(a){return a===q?this.cg:jh(this.cg)},Gs:function(a){return a===q?this.Fq:kh(this.Fq,"nav")},EW:t("LQ")});var lh=ih.prototype;T(lh,{getNumRoutes:lh.Ms,getRoute:lh.ih,getDistance:lh.Pe,getDuration:lh.Gs,getDragPois:lh.EW});function rh(a){ih.call(this,a);this.Pi=a.gY;this.$k=a.description;this.Fq=a.duration||0}w.sa(rh,ih,"TransitRoutePlan"); w.extend(rh.prototype,{bx:function(){return this.Pi.length},zD:function(a){if(this.Pi[a])return this.Pi[a]},fh:function(a){return a===q?O.kN(this.$k):this.$k},Gs:function(a){return a===q?this.Fq:kh(this.Fq,"bustime")},PW:function(){for(var a="",b=this.Pi.length-1,c=0;c<b;c++)this.Pi[c]&&this.Pi[c].title&&(a+=this.QK(this.Pi[c].title)+" \\u2192 ");return a+=this.QK(this.Pi[b].title)},QK:function(a){return a.substring(0,a.indexOf("("))},uX:function(){for(var a=0,b=this.$j.length,c=0;c<b;c++)a+=this.$j[c].Pe(q); return jh(a)}});var sh=rh.prototype;T(sh,{getNumLines:sh.bx,getLine:sh.zD,getNumRoutes:sh.Ms,getRoute:sh.ih,getDistance:sh.Pe,getDuration:sh.Gs,getDescription:sh.fh});function th(a){this.Gr=a.xj&&a.xj.slice(0)||[];this.cg=a.jd||0;this.Pj=a.index||0;this.nr=a.ha.slice(0);this.QA=a.CE||0;this.FT=a.ey;0===this.cg&&2<this.nr.length&&(this.nr.length=2)}w.extend(th.prototype,{fx:function(){return this.Gr.length},hL:function(a){if(this.Gr[a])return this.Gr[a]},Pe:function(a){return a===q?this.cg:jh(this.cg)},xD:t("Pj"),Uo:t("Ri"),ne:t("nr"),Wo:t("FT"),$W:t("QA")});var uh=th.prototype; T(uh,{getNumSteps:uh.fx,getStep:uh.hL,getDistance:uh.Pe,getIndex:uh.xD,getPolyline:uh.Uo,getPath:uh.ne,getRouteType:uh.Wo});function vh(a){this.title=a.title;this.uid=a.uid;this.type=a.type;this.Ui=a.VZ.slice(0);this.nr=a.ha.slice(0);this.cg=a.jd||0;this.PS=a.yY||0;this.yd=a.status||{}}w.extend(vh.prototype,{VW:t("PS"),wD:function(){return this.Ui[0]},vD:function(){return this.Ui[1]},ne:t("nr"),Uo:t("Ri"),Pe:function(a){return a===q?this.cg:jh(this.cg)},Xo:t("title")});var wh=vh.prototype;T(wh,{getNumViaStops:wh.VW,getGetOnStop:wh.wD,getGetOffStop:wh.vD,getPath:wh.ne,getPolyline:wh.Uo,getDistance:wh.Pe,getTitle:wh.Xo});function xh(a){this.Sh=a.point;this.Pj=a.index;this.$k=a.description;this.cg=a.jd||0;this.CT=a.s3||0;this.QA=a.CE||0}w.extend(xh.prototype,{ga:t("Sh"),xD:t("Pj"),fh:function(a){return a===q?O.kN(this.$k):this.$k},Pe:function(a){return a===q?this.cg:jh(this.cg)},j2:t("CT"),$W:t("QA")});var yh=xh.prototype;T(yh,{getPosition:yh.ga,getIndex:yh.xD,getDescription:yh.fh,getDistance:yh.Pe});w.extend(wd.prototype,{ta:function(a){window.RouteAddrInst=this;var b={},a=this.cc=this.LY(this.cc,a);if(a.result){var c=this.Xd=a.content.tpList.length+1,d=a.content,e=[],f=[],g=["sel_n","sel_n1","sel_y","sel_x","sel_x1"],i=[-1,-1],k=[],f=[];this.Xt=[a.current_city.code,a.current_city.code];tempCode=a.current_city.code;for(var l=0;l<c+1;l++){var m=p;e.push([]);k.push("");f.push("");0==l?a.result.start_city&&(this.Xt[0]=a.result.start_city.code||a.result.start_city[0].code,tempCode=this.Xt[0]):a.result.end_city&& (this.Xt[l]=a.result.end_city.code||a.result.end_city[l-1].code,tempCode=this.Xt[l]);m=this.hi(l);if(0<a.result.count[l]&&1!=a.result.city_list[l]){13!=a.result.type&&24!=a.result.type&&(f[l]=\'<a href="javascript:void(0)" ></a>\');e[l].push(\'<div id="RADiv_ResItem\'+l+\'" class="sel_body_body_div sel_body_resitem">\');var n=[0,9];10>m.length&&(n[1]=m.length-1);e[l].push(this.qM(l,n));10<a.result.count[l]&&(e[l].push(\'<div id="RADiv_PAGE\'+l+\'" style="height:20px;" class="sel_body_body_page"></div>\'),this.fO[l]= Math.ceil(a.result.count[l]/10),this.Zr[l]=1);e[l].push("</div>");1==a.result.prio_flag[l]?(i[l]=2,this.Ka[l].n=m[0].name,this.Ka[l].c=tempCode,this.Ka[l].u=m[0].uid,n=Q.wb(O.sb(m[0].geo,o).point),this.Ka[l].x=n.lng,this.Ka[l].y=n.lat,this.Ka[l].t=m[0].poiType,this.wg=n=this.qJ(this.k.ja.map,n,m[0].name,l),this.nE.push(n.point),k[l]=m[0].name):i[l]=0}}for(var u,v,l=0;l<i.length;l++)if(m=i[l],3==m&&!u)this.dj=l,v&&(i[v-1]=1),u=l+1;else if(u){if(0==m||3==m)i[l]=m+1}else 0==m&&!v?(this.dj=l,v=l+1):v&& 0==m&&(i[l]=1);b.startPointClass=g[i[0]];this.vy=a.result.s_query?a.result.s_query:a.result.s_wd;b.startPoint=""==k[0]?this.vy:k[0];b.startBody=e[0].join("");b.endPointClass=g[i[c]];this.Ow=a.result.e_query?"string"==typeof a.result.e_query?a.result.e_query:a.result.e_query[c-1]:"string"==typeof a.result.e_wd?a.result.e_wd:a.result.e_wd[c-1];b.endPoint=""==k[c]?this.Ow:k[c];b.endBody=e[c].join("");b.startButton=f[0];b.endIndex=c;b.endButton=f[c];this.hO=[];u=[""];for(l=0;l<d.tpList.length;l++)v=l+ 1,c=k[v],""==c&&(c=a.result.o1[l]),this.hO.push(c),u.push([\'<div id="RouteAddress_DIV\'+v+\'" class="\'+g[i[v]]+\'">\',\'  <div class="sel_body">\',\'    <div class="sel_body_top"  onclick="RouteAddrInst.showLst(\'+v+\')">\',\'     <div class="sel_body_title">\\n        <div class="sel_body_sign"></div>\',\'        <div class="sel_body_name">\\u9014\\u7ecf\\u70b9\'+v+\'\\uff1a<b id="B_PointName\'+v+\'">\'+c+"</b></div>","      </div>",\'     <div id="RD_TOP_BUT\'+v+\'" class="sel_body_button">\'+f[v]+"</div>","    </div>",\'    <div class="sel_body_body" id="RADIV_BODY\'+ v+\'">\'+e[v].join("")+"</div>","  </div>\\n</div>"].join("\\n"));b.tpList=u.join("");return this.f_(b)}},JB:function(){var a;w.W("RouteAddress_DIV0")&&(a=w.W("RouteAddress_DIV0").getElementsByTagName("tr"),this.tN(a));w.W("RouteAddress_DIV1")&&(a=w.W("RouteAddress_DIV1").getElementsByTagName("tr"),this.tN(a));var b=this;this.yb&&this.yb.addEventListener("open",function(){var a=w.W("selInfoWndBtn");w.K(a,"click",function(){var c=a.getAttribute("data-uid").split("_");b.itmSelect(c[0],c[1])});w.K(a,"mouseover", function(){b._selBtnOver(a)});w.K(a,"mousedown",function(){b._selBtnDown(a)});w.K(a,"mouseout",function(){b._selBtnOut(a)})});var c,d;w.W("RouteAddress_DIV0")&&(c=w.W("RouteAddress_DIV0").firstChild.firstChild,w.K(c,"click",function(){var a=c.getAttribute("data-uid");b.showLst(a)}));w.W("RouteAddress_DIV1")&&(d=w.W("RouteAddress_DIV1").firstChild.firstChild,w.K(d,"click",function(){var a=d.getAttribute("data-uid");b.showLst(a)}))},tN:function(a){var b=this;this.Db(a,function(a,d){w.K(d,"mouseover", function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);S=parseInt(c[2],10);b._lstMouseOver(this,0,c[0],S-n2,a)});w.K(d,"mouseout",function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);S=parseInt(c[2],10);b._lstMouseOut(this,0,c[0],S-n2,a)});w.K(d,"click",function(a){var c=d.getAttribute("data-uid").split("_"),e=parseInt(c[0],10);n2=parseInt(c[1],10);S=parseInt(c[2],10);b.select(e,S,a)});var e=d.childNodes[2].getElementsByTagName("div")[0];w.K(e,"click", function(){var a=e.getAttribute("data-uid").split("_");b.itmSelect(a[0],a[1])});w.K(e,"onmouseover",function(){b._selBtnOver(e)});w.K(e,"onmouseout",function(){b._selBtnOut(e)});w.K(e,"onmousedown",function(){b._selBtnDown(e)})})},LY:function(a,b){a.content||(a.content={start:[],end:[]});a.content.tpList=[];if(19==a.result.type){this.MY(a,b);var c=a.content,d=[],e=c.length;a.content={start:[],end:[]};if(2<e)for(var f=1;f<e-1;f++)d.push(c[f]);a.content.end=c[e-1];a.content.tpList=d;a.content.start= c[0]}return a},MY:function(a,b){var c={},d,e=0,f=0,g=[],i,k=a.result;d=[];c.city_list=[];c.count=[];c.current_null=[];c.e_query=[];c.e_wd=[];c.end_city=[];c.wd2=[];c.prio_flag=[];c.sug_index=[];c.total=[];c.s_wd="";c.s_query="";this.mw=[];k.e_wd||(k.e_wd=[],k.e_query=[]);d=this.$M(b.start);i=d.type;c.s_wd=1==i?d.rb:k.s_wd;c.s_query=1==i?d.rb:k.s_query;1==i&&(this.Ka[e].o=c.s_wd,this.Ka[e].x=d.point.split(",")[0],this.Ka[e].y=d.point.split(",")[1]);this.mw.push(2==i);c.total.push(1==i?1:k.total[f]); c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i?1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:d.rb,geo:"1|"+d.point+";"+d.point+"|"+d.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++;d=decodeURIComponent(b.end).split("to:");for(var l=0,m;m=d[l];l++){m=this.$M(m);i=m.type;2==i&&m.uid&&m.point&&(i=1);this.mw.push(2==i);var n=2==i?m.rb:0==f?k.s_wd:k.e_wd[f-1]; c.e_wd.push(n);c.e_query.push(n);c.end_city.push(1==i?a.current_city:0==f?k.start_city:k.end_city[f-1]);1==i&&(this.Ka[e].o=c.s_wd,this.Ka[e].x=m.point.split(",")[0],this.Ka[e].y=m.point.split(",")[1]);m.tj&&(this.QX(e-1,{Zx:c.e_wd[e-1],Pr:c.wd2[e],point:1==i?O.dL(m.point):p,uid:m.uid}),this.Zt.push({Zx:c.e_wd[e-1],Pr:c.wd2[e],point:1==i?O.dL(m.point):p,uid:m.uid}));c.total.push(1==i?1:k.total[f]);c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i? 1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:m.rb,geo:"1|"+m.point+";"+m.point+"|"+m.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++}w.extend(a.result,c);a.content=g},QX:function(a,b){var c=w.extend({},b);if(this.Yt.length>a)this.Yt[a]=b;else if(this.Yt.length==a)this.Yt.push(b);else return;this.Yt[a]=c},$M:function(a){a=decodeURIComponent(a);a=a.split("$$");return{type:a[0],uid:a[1],point:a[2],rb:a[3],w2:a[4], F2:a[5],w1:a[6],tj:a[7]}},hi:function(a){return 0==a?this.cc.content.start:a==this.Xd?this.cc.content.end:this.cc.content.tpList[a-1]},qM:function(a,b,c){this.di=-1;var c=c?c:this.hi(a),d=[];d.push(\'<div id="RA_ResItem_\'+a+\'"><table border="0" cellspacing="0" cellpadding="0" style="width:100%">\');for(var e=b[0];e<=b[1];e++){d.push(\'<tr  onmouseover="RouteAddrInst._lstMouseOver(this, 0,\'+a+", "+(e-b[0])+\', event)" onmouseout="RouteAddrInst._lstMouseOut(this, 0,\'+a+", "+(e-b[0])+\', event)" onclick="RouteAddrInst.select(\'+ a+","+e+\', event)"  filter = "item" data-uid="\'+a+"_"+b[0]+"_"+e+\'"  ><th><div title="\\u5728\\u56fe\\u4e0a\\u663e\\u793a\\u8be5\\u70b9" class="icon iconbg" id="no_\'+a+"_"+(e-b[0]+1)+\'"></div></th>\');var f=0==a?"\\u9009\\u4e3a\\u8d77\\u70b9":a==this.Xd?"\\u9009\\u4e3a\\u7ec8\\u70b9":"\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";d.push(\'<td style="word-break:break-all;padding-right:24px">\');d.push(\'<a href="javascript:void(0)">\'+c[e].name+"</a>");c[e].addr&&""!=c[e].addr&&(d.push("<div>"),0==c[e].poiType?d.push(\'<span style="color:#999">\\u5730\\u5740: \'+ c[e].addr+"</span>"):1==c[e].poiType?d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a</span>\'+c[e].addr.split(";").join("; ")):3==c[e].poiType&&d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u5730\\u94c1\\uff1a</span>\'+c[e].addr.split(";").join("; ")),d.push("</div>"));d.push("</td>");d.push(\'<td style="vertical-align:middle;width:106px"><div tid="selBtn_\'+a+"_"+e+\'" class="selBtn"  onclick="RouteAddrInst.itmSelect(\'+a+","+e+\');return false;" onmouseover="RouteAddrInst._selBtnOver(this)" onmouseout="RouteAddrInst._selBtnOut(this)" onmousedown="RouteAddrInst._selBtnDown(this)" data-uid = "\'+ a+"_"+e+\'"  >\'+f+"</div>");d.push(\'<a data-uid="\'+c[e].uid+\'" href="javascript:void(0);" class="list_street_view_poi" style="visibility:hidden"><img src="/static/images/transparent.gif" ></a>\');d.push("</td>");d.push("</tr>")}d.push("</table></div>");return d.join("")},qJ:function(a,b,c,d,e){0==d?a=V.po(a,b,c,zh):d==this.Xd?a=V.po(a,b,c,Ah):(c=this.Zt[d-1],c.point=b,e&&(c.uid=e),a=V.vJ(a,b,d-1));return a},f_:function(a){var b=[];b.push(\'<div class="RouteAddressOuterBkg">\');b.push(\'<div class="RouteAddressTip"><span>\\u8bf7\\u9009\\u62e9\\u51c6\\u786e\\u7684\\u8d77\\u70b9\\u3001\\u9014\\u7ecf\\u70b9\\u6216\\u7ec8\\u70b9</span></div>\'); b.push(\'<div class="RouteAddressInnerBkg">\');b.push(\'<div id="pos5" style="display:none"></div>\');b.push(\'<div id="RouteAddress_DIV0" class="\'+a.startPointClass+\'"> \');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid="0" onclick="RouteAddrInst.showLst(0)" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u8d77\\u70b9\\uff1a<b id="B_PointName0">\'+a.startPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT0" class="sel_body_button">\'+ a.startButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY0">\'+a.startBody+"</div>");b.push("</div>");b.push("</div>");b.push(a.tpList);b.push(\'<div id="RouteAddress_DIV\'+a.endIndex+\'" class="\'+a.endPointClass+\'">\');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid=\'+a.endIndex+\' onclick="RouteAddrInst.showLst(\'+this.Xd+\')" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u7ec8\\u70b9\\uff1a<b id="B_PointName\'+ a.endIndex+\'">\'+a.endPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT\'+a.endIndex+\'" class="sel_body_button">\'+a.endButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY\'+a.endIndex+\'">\'+a.endBody+"</div>");b.push("</div>");b.push("</div>");b.push(\'<div id="pos6" style="display:none"></div>\');b.push("</div>");b.push("</div>");return b.join("")},showLst:function(a){this.dj=a;var b=this.cc.content.tpList.length+1,c=this.hi(a);if(!c||!(1==c.length&&c[0].SD&& 1==c[0].SD)){var d=this.Zr,e=w.W("RouteAddress_DIV"+a).className;if(!("sel_n"==e||"sel_x"==e||this.mw&&!this.mw[a])){if("sel_n1"==e||"sel_y"==e||"sel_x1"==e){for(var f=0;f<=b;f++){var g=w.W("RouteAddress_DIV"+f);ha.Bc("B_PointName"+f).innerHTML=this.BW(f);"sel_x"==g.className?g.className="sel_x1":"sel_n"==g.className&&(g.className="sel_n1")}this.WB();this.wg&&(this.map.Rb(this.wg),this.wg=p);"sel_y"==e&&(this.Ka[a]={o:"",Lf:0,hn:0,x:0,y:0,yc:-1},this.wp[a]=0);0>=this.cc.result.count[a]?w.W("RouteAddress_DIV"+ a).className="sel_x":(w.W("RouteAddress_DIV"+a).className="sel_n",1!=this.cc.result.city_list[a]&&(b=10*(d[a]-1)+9,c.length<b+1&&(b=c.length-1),this.ro(a,[10*(d[a]-1),b])))}this.di=-1}}},dB:function(a,b){var c;w.W("RA_ResItem_"+a)&&(c=w.W("RA_ResItem_"+a).childNodes[0]);if(c&&(c=c.rows[b]))c.style.backgroundColor="#F4F4F4",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="visible",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-b+"px -32px";this.Sf.length> b&&(this.Sf[b].Sb(new nc(E.JF,E.IO,{offset:E.HO,imageOffset:new M(-E.FO*b,-E.GO),infoWindowOffset:E.IF})),this.KI(this.Sf[b],o,o))},_lstMouseOver:function(a,b,c,d){a=this.k.ja.map;this.di!=d&&(a.Uc(),this.dB(c,d))},_lstMouseOut:function(a,b,c,d){this.di!=d&&this.Mv(c,d)},Mv:function(a,b){var c=p;w.W("RA_ResItem_"+a)&&(c=w.W("RA_ResItem_"+a).childNodes[0]);c&&(c=c.rows[b],c.style.backgroundColor="#ffffff",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition= 24*-b+"px -64px");this.Sf.length>b&&(this.Sf[b].Sb(new nc(E.JF,E.MF,{offset:E.W_,imageOffset:new M(-E.LF*b,-E.KF),infoWindowOffset:E.V_})),this.KI(this.Sf[b],q))},KI:function(a,b,c){a&&a.wi&&(b&&!a.JH&&a.Wc&&a.Wc.style?(a.JH=o,c?a.wi(o,1000100):a.wi(o)):!b&&(a.Wc&&a.Wc.style)&&(delete a.JH,a.wi(q)))},select:function(a,b,c){if(2<arguments.length&&(c=c||window.n1,"selBtn"==(c.srcElement||c.target).className))return;var d=this.hi(a);this.map.Uc();d&&(this.vp[0]!=this.vp[1]&&this.wg&&this.map&&this.map.zh(this.Pm), this.VT(d,a,b),-1!=this.di&&this.Mv(a,this.di),this.di=b%10,this.dB(a,this.di))},WB:function(){var a=this;(function c(){0!==a.Sf.length&&(a.map.Rb(a.Sf.shift()),c())})();(function d(){0!==a.Pm.length&&(a.Pm.shift(),d())})()},itmSelect:function(a,b){var c=this.map,d=this.hi(a);this.Ka[a].n=d[b].name;this.Ka[a].c=this.vp[a];this.Ka[a].u=d[b].uid;var e=Q.wb(O.sb(d[b].geo_base64||d[b].geo,o).point);this.Ka[a].x=e.lng;this.Ka[a].y=e.lat;this.Ka[a].t=d[b].poiType;w.W("B_PointName"+a)&&(w.W("B_PointName"+ a).innerHTML=d[b].name);this.wg=this.qJ(c,e,d[b].name,a);0!=a&&a!=this.Xd&&(this.Zt[a-1].Zx=d[b].name);this.WB();if(this.SX())this.wg&&(c.Rb(this.wg),this.wg=p),this.submit();else{w.W("RouteAddress_DIV"+a)&&(w.W("RouteAddress_DIV"+a).className="sel_y");for(c=0;1<=this.Xd;){c=(a+1)%(this.Xd+1);w.W("RouteAddress_DIV"+c)&&w.W("RouteAddress_DIV"+c);break}if(0==this.wp[c]){w.W("RouteAddress_DIV"+c)&&(w.W("RouteAddress_DIV"+c).className="sel_n");var d=this.Zr[c],e=10*(d-1)+9,f=this.hi(c);f.length<e+1&& (e=f.length-1);this.ro(c,[10*(d-1),e]);this.select(c,0)}else 2==this.wp[c]?w.W("RouteAddress_DIV"+c)&&(w.W("RouteAddress_DIV"+c).className="sel_n"):w.W("RouteAddress_DIV"+c)&&(w.W("RouteAddress_DIV"+c).className="sel_x");this.dj=c}},submit:function(){var a=this.map,b=this.Ka[0].c,c=this.Ka[this.Xd].c;if(b==c)var d=b;var e={},f=new N("onpoiselected");if(13==this.cc.result.type||23==this.cc.result.type||24==this.cc.result.type)23==this.cc.result.type&&b!=c?(e.c=d||this.cc.current_city.code,e.sc=b,e.ec= c,e.sn="1$$$$"+this.Ka[0].x+","+this.Ka[0].y+"$$"+this.Ka[0].n+"$$$$$$",e.en="1$$$$"+this.Ka[1].x+","+this.Ka[1].y+"$$"+this.Ka[1].o+"$$$$$$"):(e.c=d||this.cc.current_city.code,e.sc=b,e.ec=c,e.sn="1$$"+this.Ka[0].u+"$$"+this.Ka[0].x+","+this.Ka[0].y+"$$"+this.Ka[0].n+"$$$$$$",e.en="1$$"+this.Ka[1].u+"$$"+this.Ka[1].x+","+this.Ka[1].y+"$$"+this.Ka[1].n+"$$$$$$");else{for(var g=d="",i=this.Xd,k=0,l=this.Zt.length;k<l;k++)d+=this.kx(this.Zt[k]),g+=this.Ka[k+1].c+"+to:";e.sc=b;e.ec=g+c;e.sn="1$$$$"+this.Ka[0].x+ ","+this.Ka[0].y+"$$"+this.Ka[0].n+"$$$$$$";e.en=d+"1$$$$"+this.Ka[i].x+","+this.Ka[i].y+"$$"+this.Ka[i].n+"$$$$$$"}e.sq=this.vy;e.eq=this.Ow;f.paramInfo=e;f.sType=this.fy;a.dispatchEvent(f)},kx:function(a,b){var c=2,d="",e="",f="",g="0",i="";if(a.point||a.hN)c=1,e=a.point?a.point.lng+","+a.point.lat:a.hN.lng+","+a.hN.lat,a.uid&&(c=2,d=a.uid);a.Zx&&(f=a.Zx);a.Pr&&(g="1",i=a.Pr);isNaN(b)||(c=b);return c+"$$"+d+"$$"+e+"$$"+f+"$$"+g+"$$"+i+"$$$$1$$+to:"},SX:function(){for(var a=0;a<=this.Xd;a++)if(""== this.Ka[a].n&&!this.Ka[a].x&&!this.Ka[a].y||this.Ka[a].n==j)return q;return o},_selBtnOver:function(a){a.style.backgroundPosition="-100px -81px"},_selBtnOut:function(a){a.style.backgroundPosition="-21px -81px"},_selBtnDown:function(a){a.style.backgroundPosition="-220px -81px";a.style.fontWeight="bold"},pa:function(){var a=this,b=this.Xd;this.IN(this.cc);a.EN();for(var c=0;c<=b;c++)w.W("RADiv_PAGE"+c)&&(pg0=new nd("RADiv_PAGE"+c,function(b){var c=a.dj,d=[10*(b-1),10*b-1];a.yt[c]<d[1]+1&&(d[1]=a.yt[c]- 1);w.C.remove=function(a){var a=w.W(a),b=a.parentNode;b&&b.removeChild(a)};w.W("RA_ResItem_"+c)&&(w.C.remove(w.W("RA_ResItem_"+c)),ha.C.vx(w.W("RADiv_ResItem"+c),"AFTERBEGIN",a.qM(c,d)));a.ro(c,d,o);w.W("RADiv_ResItem"+c).scrollTop=0;a.Zr[c]=b},{Uf:5,Fd:a.fO[c],page:a.Zr[d]}));var d=[0,9],c=this.dj,e=ha.Bc("RouteAddress_DIV"+c),f=this.hi(c);"sel_n"==e.className?this.cc.content&&(this.cc.result.city_list&&1!=this.cc.result.city_list[c]&&f&&0<f.length)&&(f.length<d[1]+1&&(d[1]=f.length-1),a.ro(c,d), a.select(c,0)):this.wg&&"sel_x"==e.className&&this.map.zh(this.nE);for(var d=0;d<=b;d++)"sel_y"==w.W("RouteAddress_DIV"+d).className&&(c=this.hi(d),0<c.length&&(c[0].SD&&1==c[0].SD)&&(ha.l3(ha.Bc("RD_TOP_BUT"+d),"sel_body_button"),w.W("RD_TOP_BUT"+d).innerHTML=""))},DO:function(){var a=this.Xd;this.IN(this.cc);this.EN();for(var b=0;b<=a;b++){var c=this.dj,d=[0,9];this.yt[c]<d[1]+1&&(d[1]=this.yt[c]-1);this.ro(c,d,o)}a=[0,9];b=this.dj;ha.Bc("RouteAddress_DIV"+b);c=this.hi(b);1==b?this.cc.content&& (this.cc.result.city_list&&1!=this.cc.result.city_list[b]&&c&&0<c.length)&&(c.length<a[1]+1&&(a[1]=c.length-1),this.ro(b,a)):this.wg&&0==b&&this.map&&this.map.zh(this.nE);this.select(b,0)},IN:function(a){var b=this.map;if(a.EV&&!(a.result.q3&1)&&(29==a.result.type||13==a.result.type)){var a=a.EV,c=["country","province","city","area"],c=a.type!=p?modelConfig.ug[c[a.type]]:j,a=a.Cd!=p?a=O.sb(a.Cd,o).point:j;b.dW?(c&&b.Dg(c),a&&b.Vf(a)):(b.dW=o,b.zd(a||b.Ia(),c||b.ea()))}},EN:function(){this.vp=this.Xt; for(var a=0;a<=this.Xd;a++)0<this.cc.result.count[a]?0==this.cc.result.city_list[a]?(this.wp[a]=1==this.cc.result.prio_flag[a]?1:0,this.yt[a]=this.cc.result.count[a]):this.wp[a]=2:this.wp[a]=3},ro:function(a,b){var c=this,d=this.hi(a),e=c.map;c.WB();if(d){for(var f=b[0];f<=b[1];f++){var g=O.sb(d[f].geo_base64||d[f].geo,o);c.Sf.push(V.yU(g.ha[0],f-b[0],d[f].name,e));c.Pm.push(g.ha[0])}d=c.Pm;c.wg&&c.vp[0]==c.vp[1]&&d.push(c.wg.point);if(this.map.na()==Oa){var g=Rc[Oa].Z0[e.Ub][1],i=getPointsBounds(d), k=e.Qs(i).zoom;g.Xs(i)?(15>=k&&(k=15),e.zd(d[0],k)):e&&e.zh(d)}else e&&e.zh(d);11==c.Pm.length&&c.Pm.pop();for(var l=this.Sf,f=b[0];f<=b[1];f++)(function(){var d=f;l[f-b[0]]&&(l[f-b[0]].addEventListener("click",function(){c.select(a,d)}),l[f-b[0]].addEventListener("mouseover",function(){var b=d%10;c.di!=b&&c.dB(a,b)}),l[f-b[0]].addEventListener("mouseout",function(){var b=d%10;c.di!=b&&c.Mv(a,b)}))})()}},VT:function(a,b,c){var d=this,e=a[c],a="<span class=\'iw_poi_title\' title=\'"+e.name+"\'>"+e.name+ "</span>",f=[],g="";e.addr&&""!=e.addr&&(0==e.poiType?g="\\u5730\\u5740: "+e.addr:1==e.poiType?g="\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a"+e.addr.split(";").join("; "):3==e.poiType&&(g="\\u9014\\u7ecf\\u5730\\u94c1\\uff1a"+e.addr.split(";").join("; ")));f.push("<div style=\'padding:11px 11px 6px 11px;line-height:20px;word-break:break-all\'>"+g+"</div>");f.push("<div style=\'line-height:180%;margin-bottom:10px;\'>");e="\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";0==b&&(e="\\u9009\\u4e3a\\u8d77\\u70b9");b==this.Xd&&(e="\\u9009\\u4e3a\\u7ec8\\u70b9"); f.push("<div style=\'text-align:center;\'><div id=\'selInfoWndBtn\' class=\'selInfoWndBtn\'  data-uid = \'"+b+"_"+c+"\'  />"+e+"</div>");f.push("</div>");this.yb?(this.yb.Ac(a),this.yb.Zc(f.join(""))):(this.yb=new qc(f.join(""),{title:a,height:0,width:280,margin:[0,0,0,0]}),this.yb.addEventListener("open",function(){var a=w.W("selInfoWndBtn");w.K(a,"click",function(){var b=a.getAttribute("data-uid").split("_");d.itmSelect(b[0],b[1])});w.K(a,"mouseover",function(){d._selBtnOver(a)});w.K(a,"mousedown",function(){d._selBtnDown(a)}); w.K(a,"mouseout",function(){d._selBtnOut(a)})}),this.yb.addEventListener("close",function(){d.Mv(b,i)}));var i=c%10;this.Sf&&this.Sf[i]&&this.Sf[i].Kb(this.yb)},BW:function(a){a==j&&(a=this.dj);return 0==a?this.vy:a==this.Xd?this.Ow:this.hO[a-1]},Db:function(a,b){for(var c=0,d=a.length;c<d;c++)b(c,a[c])}});pd.cH=function(a,b,c){var d="";0===c&&(d+=";border-top:1px solid #e4e6e7");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:8px 0 8px 10px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}; pd.bH=function(a,b,c){return\'<h1 style="margin:0;border-top:1px solid #e4e6e7;\'+(c?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+E.fontFamily+\'"> \'+b+"\\u524d\\u5f80 "+a+" \\u7684\\u8def\\u7ebf</h1>"}; w.extend(pd.prototype,{search:function(a,b){return!a||!b?(this.Me(),this.qb(5),this.Qa(W.Qc),q):o},Me:function(){delete this.ia;delete this.fa;delete this.Da;delete this.nq;delete this.Bl;var a=this.k.ja;this.qb();a.Fa&&(a.Fa.innerHTML="");a.map&&a.map.Uc();this.Hj();this.ib=-1},Ye:function(a,b){var c,b=b||{};"string"===typeof a?c=[2,"","",a,0,""]:a instanceof H?(c=Q.wb(a),c=[1,"",c.lng+","+c.lat,b.a4||"",0,""]):(c=Q.wb(a.point),c=[1,""+a.uid,c.lng+","+c.lat,a.title,0,""]);return c.join("$$")+"$$"}, Kh:function(a,b){var c;"string"===typeof a?c=a:(c=a instanceof H?a:a.point,c=c.lat+","+c.lng);"string"!==typeof a&&(b&&""!==b&&"string"===typeof b)&&(c="name:"+b+"|latlng:"+c);return c},kx:function(a){return this.Ye(a)+"$$1$$"},u0:function(){var a;"string"===typeof dest?a=dest:(a=dest instanceof H?dest:dest.point,a=a.lat+","+a.lng);return a}});var zh=0,Ah=1; function jh(a){"string"===typeof a&&(a=parseFloat(a));a=!a||0>a?"0\\u7c73":10>=a?"10\\u7c73":1E3>a?10*Math.round(a/10)+"\\u7c73":(a/1E3).toFixed(1)+"\\u516c\\u91cc";"1000\\u7c73"===a&&(a="1.0\\u516c\\u91cc");return a} function kh(a,b){if(!a||isNaN(a))return"";var c="",d=Math.ceil(a/60);if("bustime"===b)var e=d%10,f=parseInt(d/10,10),d=0!==e?5<e?10*++f:f?10*f:5:d;e=parseInt(d/1440,10);d%=1440;f=parseInt(d/60,10);d%=60;1<=e&&(c+=e+"\\u5929");1<=f&&(c+=f+"\\u5c0f\\u65f6");if(1<=d&&(!b||!("nav"===b&&1<=e)))c+=d+"\\u5206\\u949f";return c}T(lf,{clearResults:lf.Me});w.extend(qd.prototype,{Md:function(){for(var a=0,b=this.Na.length;a<b;a++){var c=this.Na[a];this[c.method].apply(this,c.arguments)}delete this.Na;var d=this;this.k.ja.map&&this.k.ja.map.addEventListener("onpoiselected",function(a){d.JE(a)})},oA:function(a,b){function c(a){var a=a.split("$$"),b=a[0],c=p;/[0-2]/.test(b)&&7===a.length&&(c=a[+b+1]);return c}var d=this;this.Jg(this.ud,function(e){e={qt:d.rd,c:e,sn:a,r1:b,sy:d.k.Yc||0,ext:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]");var f=c(a),g=c(b);$c.$a(function(a, b){d.Hf(a,b)},e,{start:f,end:g})})},search:function(a,b){if(pd.prototype.search.call(this,a,b)===o){var c=this;this.Jg(this.ud,function(d){d||(this.qb(5),this.Qa(W.Qc));var e;"object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b?"string"===typeof a?e={qt:"bse",c:d,isSingle:o,wd:a,en:c.Ye(b),sy:c.k.Yc||0,ex:1}:"string"===typeof b&&(e={qt:"bse",c:d,isSingle:o,wd:b,sn:c.Ye(a),sy:c.k.Yc||0,ex:1}):e={qt:c.rd,c:d,sn:c.Ye(a),en:c.Ye(b),sy:c.k.Yc||0,ex:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]"); $c.$a(function(a,b){c.Hf(a,b)},e,{start:a,end:b,aH:"search"})})}},JE:function(a){if(a.sType===this.rd){a=a.paramInfo;a.qt=this.rd;var b=this;a.sy=b.k.Yc||0;var c={start:a.sq,end:a.eq,aH:"preciseSearch"};this.k.bd&&(c.oN=z.kp+"mobile/webapp/interface/wiseBus/",c.ys=o);$c.$a(function(a){b.Hf(a,c)},a,c)}},Hf:function(a,b){var c=this.k.ja.map;this.Me();this.Da=a;var d=a.result;this.fa=b;if(0!==d.error||d.type!==this.ru||!a.content)23===d.type&&this.k.ja.map?(c=new wd(a,{ja:this.k.ja,fy:this.rd}),d=L("div", {style:"font:12px "+E.fontFamily+";background:#fff"}),d.innerHTML=c.ta(),this.k.ja.Fa?(this.k.ja.Fa.appendChild(d),c.pa()):c.DO(),c.JB()):(this.ia=new gh({city:a.current_city.name,ut:[],Yc:d.sy,QN:j,BK:j}),this.qb(3),this.Qa(W.Qc,this.ia));else if(this.k.bd&&"search"===b.aH){var e=new N("onpoiselected"),f={};f.qt=this.rd;f.sy=this.k.Yc||0;f.sq=b.start;f.eq=b.end;f.sn=d.sn?d.sn:this.Ye(d.start.wd);f.en=d.en?d.en:this.Ye(d.end.wd);f.c=d.c;e.paramInfo=f;e.sType=this.rd;c.dispatchEvent(e)}else this.yl(), this.zl(),this._selectPlan(0)},XR:function(a,b){var c=cd;0===b&&(c=0<a?2:1);return c},yl:function(){var a=this.Da.result,b=this.Da.content,c=this.Da.current_city,d={},e={};if("object"===typeof this.fa.start&&!(this.fa.start instanceof H))w.extend(d,this.fa.start);else{d.title=a.start.wd||"\\u8d77\\u70b9";d.uid=a.start.uid;d.url=W.Lh(d.uid,c.code);if(this.k.bd){var f=a.start.pt.split(",");d.point=Q.Cb(new H(parseFloat(f[0]),parseFloat(f[1])))}else d.point=O.sb(a.start.pt,o).point;d.city=c.name}"object"=== typeof this.fa.end&&!(this.fa.end instanceof H)?w.extend(e,this.fa.end):(e.title=a.end.wd||"\\u7ec8\\u70b9",e.uid=a.end.uid,e.url=W.Lh(e.uid,c.code),this.k.bd?(f=a.end.pt.split(","),e.point=Q.Cb(new H(parseFloat(f[0]),parseFloat(f[1])))):e.point=O.sb(a.end.pt,o).point,e.city=c.name);var f=[],g=0;this.nq=[];for(var i=0;i<b.length&&!(g>this.k.Ak-1);i++)for(var k=0,l=b[i]&&b[i].stops&&b[i].stops.length;k<l&&!(g>this.k.Ak-1);k++){this.nq[g]=[];for(var m=b[i].stops[k],n=b[i].lines[k],u=0,v=0,x=n.length;v< x;v++)"object"===typeof n[v]&&u++;for(var u=n[u+1],v=[],x=[],y=0,C="<table class=\'trans-plan-content\'>",A=0;A<m.length-1&&n[A].geo;A++){var D=m[A].getOn,D={title:D.name,uid:D.uid,url:W.Lh(D.uid,c.code),city:c.name,point:O.sb(D.geo,o).point},B=m[A+1].getOff,B={title:B.name,uid:B.uid,url:W.Lh(B.uid,c.code),city:c.name,point:O.sb(B.geo,o).point},G=[];if(0===A)0<m[A].walk.distance&&m[A].walk.geo&&(G=O.sb(m[A].walk.geo,o).ha.concat(D.point));else if(0<m[A].walk.distance&&m[A].walk.geo)var G=O.sb(m[A].getOff.geo, o).point,K=O.sb(m[A].getOn.geo,o).point,G=[G].concat(O.sb(m[A].walk.geo,o).ha).concat(K);x.push(new th({jd:m[A].walk.distance,ha:G.slice(0),ey:ad,index:A,CE:i}));y+=m[A].walk.distance;A===m.length-2&&(0<m[A+1].walk.distance&&m[A+1].walk.geo&&(G=[B.point].concat(O.sb(m[A+1].walk.geo,o).ha)),x.push(new th({jd:m[A+1].walk.distance,ha:G.slice(0),ey:ad,index:A+1,CE:i})),y+=m[A+1].walk.distance);G=O.sb(n[A].geo,o);K=[];if(this.k.bd&&n[A].link_color&&0<n[A].link_color.length)for(var R=0,J=0,Z=n[A].link_color, ka=Z.length;R<ka;R++){var va=Z[R],Na=va.status,ub=G.ha.slice(J,J+va.geo_cnt+1);K.push({ha:ub,status:Na});J+=va.geo_cnt}v.push(new vh({title:n[A].name,uid:n[A].uid,jd:n[A].distance,ha:G.ha,status:K,VZ:[D,B],type:this.JR(n[A].type),yY:n[A].station_num}));K=G.fb;G=K.pe();K=K.lf();G=[G,K];this.nq[g].push(G[0],G[1]);y+=n[A].distance;m[A].walk.distance&&(C+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+jh(m[A].walk.distance)+"\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+ D.title+"</span></div></td></tr>");C+="<tr><td><span class=\'navtrans-bus-icon bus\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+this.ST(n[A].name)+"</span>\\uff0c\\u7ecf\\u8fc7"+n[A].station_num+"\\u7ad9\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+B.title+"</span></div></td></tr>";A<m.length-2?C+="":m[A+1].walk.distance&&(C+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+jh(m[A+1].walk.distance)+ "\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+m[A+1].getOn.name+"</span></div></td></tr>")}C+="</table>";if(0===y)break;f.push(new rh({TE:x,jd:y,duration:u,gY:v,description:C}));g++}b=z.Ec+"direction?"+Db({region:c.name,origin:this.Kh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start),destination:this.Kh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end)})+"&output=html&mode=transit&src=baidu_map_jsapi";this.ia=new gh({city:c.name,ut:f,start:d,end:e,url:b,Yc:a.sy}); this.qb(0);this.Qa(W.Qc,this.ia)},tT:function(a){var b=this.k.ja.map,c=[],d=this;if(b){var e=this.ia.nf(a);if(e){var f=this.ia.pj(),g=this.ia.gh(),i=V.po(b,f.point,f.title,zh);f.marker=i;i.addEventListener("click",function(){d._select(0)});this.ua.push(i);i=V.po(b,g.point,g.title,Ah);g.marker=i;this.ua.push(i);i.addEventListener("click",function(){d._selectLast()});this.nq[a].push(f.point,g.point);for(var k=0,i=e.bx();k<i;k++){var l=e.zD(k),m=V.qo(b,l.ne()),n=[];if(this.k.bd&&0<l.yd.length){for(var u= 0,v=l.yd.length;u<v;u++){var x=l.yd[u];x.status&&(x=V.sJ(b,x.ha,x.status),n.push(x),this.ua.push(x))}l.z0=n}l.Ri=m;this.ua.push(m);m=l.wD();c.push(m);var y=V.uJ(b,m.point,l.type,m.title);m.marker=y;this.ua.push(y);m=l.vD();c.push(m);var C=V.uJ(b,m.point,l.type,m.title);m.marker=C;(function(){var a=k;y.addEventListener("click",function(){d._select(2*(a+1)-1)});C.addEventListener("click",function(){d._select(2*(a+1))})})();this.ua.push(C);l=e.ih(k);0<l.Pe(q)&&(m=V.Ml(b,l.ne(),l.Wo()),l.Ri=m,this.ua.push(m))}l= e.ih(k);m=V.Ml(b,l.ne(),l.Wo());l.Ri=m;this.ua.push(m);d=this;this.k.ja.Xg&&b.zh(this.nq[a],{margins:[30,30,30,30]});this.Qa(W.lu,e.Pi,e.$j);this.Qa(W.Rp,[f,g],c)}}},zl:function(){if(this.k.ja.Fa&&this.k.ja.Fa.appendChild&&this.ia&&0<this.ia.dx()){for(var a=L("div",{style:"font:12px "+E.fontFamily+";background:#fff"}),b=pd.bH(this.ia.gh().title,"\\u4e58\\u516c\\u5171\\u4ea4\\u901a\\u5de5\\u5177"),c=this.dH(this.ia.pj().title,\'Instance("\'+this.aa+\'")["_select"](0)\',0),d=this.dH(this.ia.gh().title,\'Instance("\'+ this.aa+\'")["_selectLast"]()\',1),e=["<table style=\'font:12px "+E.fontFamily+";border-collapse:collapse;width:100%;\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],f=0,g=this.ia.dx();f<g;f++){var i=this.ia.nf(f),k=i.Pe().replace(/(\\d+(?:.\\d+)?)/,"$1 "),l=i.Gs().replace(/(\\d+)/,"$1 "),m=i.uX();bg="";var n="<p style=\'margin:0px 0px 5px 0px;font-size:14px;color: #36c;\'>"+i.PW()+"</p>",k="<p style=\'margin:5px 0px;font-size:12px;\'>"+k+"  &nbsp;|&nbsp;  "+l+"  &nbsp;|&nbsp; \\u6b65\\u884c"+m+"</p>";e.push("<tr class=\'tranroute-plan-list\' style=\\"cursor:pointer"+ bg+\'" onclick=\\\'Instance("\'+this.aa+\'")._selectPlan(\'+f+")\'>");e.push("<td style=\'vertical-align:top;line-height:18px\' ><div style=\'margin:3px 0px;border:1px solid #e4e6e7;\'><div class=\'trans-title\' style=\'padding: 5px 10px;\'>"+n+k+"</div><div class=\'trans_plan_desc\' style=\'padding:0px 8px;margin:0px;display:none;position:relative;\'>"+c+i.fh()+d+"</div></div></td>");e.push("</tr>")}e.push("</table>");c="<div style=\'border-bottom:1px solid #ccc;margin-bottom:10px;color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right\'>"; this.ia.moreResultsUrl&&(c+="<a style=\'color:#7777cc\' href=\'"+this.ia.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");a.innerHTML=b+e.join("")+(c+"&nbsp;</div>");this.k.ja.Fa.appendChild(a);this.Qa(W.mu,a)}},_select:function(a,b){var c=this.k.ja.map;if(c){var b=b||window.event,d=this.ia.nf(this.ib);if(d){var e=this,f=2*d.bx();if(0===a||a===f+1){var g=0===a?this.ia.pj():this.ia.gh(),i=V.yw({content:"<b>"+g.title+"</b>",total:f,Bw:a,Mx:function(a){e._select(a)}}); i.addEventListener("open",function(){e.Qa(W.un,g,V.Hs(c))});var k=0===a?0:1,e=this;c.D.hm?Wd.dp(i,c.getCurrentCity().code,{panoInstance:c.M,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){e.ua[k].Kb(i)}):e.ua[k].Kb(i)}else{var d=d.zD(Math.floor((a+1)/2)-1),l,m=d.Xo();1===a%2?(l=d.wD(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0a\\u8f66</b>"):(l=d.vD(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0b\\u8f66</b>");i=V.yw({content:d,total:f,Bw:a,Mx:function(a){e._select(a)}});i.addEventListener("open", function(){e.Qa(W.un,l,V.Hs(c))});e=this;c.D.hm?Wd.dp(i,c.getCurrentCity().code,{panoInstance:c.M,lngLat:l.point,titleTip:l.title,type:"busline",beforeDomId:"trans_nav"},function(){l.marker.Kb(i)}):l.marker.Kb(i)}ma(b)}}},_selectLast:function(a){a=a||window.event;if(this.ia&&-1<this.ib){var b=this.ia.nf(this.ib);if(!b)return;this._select(2*b.bx()+1)}ma(a)},_selectPlan:function(a){if(this.ia||this.C0.nf(a)){this.ia.nf(a);var b=this.k.ja.map;b&&(b.Uc(),this.Hj(),this.tT(a));if(this.k.ja.Fa){var c=this.k.ja.Fa.getElementsByTagName("table")[0]; if(!c)return;for(var b=w.getElementsByClassName(c,"tranroute-plan-list"),c=w.getElementsByClassName(c,"trans_plan_desc"),d=0;d<c.length;d++)d!==a&&(c[d].style.display="none");for(c=0;c<b.length;c++)w.Qb(b[c],"expand");c=w.getElementsByClassName(b[a],"trans_plan_desc")[0];"none"===c.style.display?(c.style.display="block",w.Sa(b[a],"expand")):c.style.display="none"}this.ib=a}},Hj:function(){for(var a=0;a<this.ua.length;a++)this.ua[a]&&this.ua[a].MA&&(this.ua[a].MA.remove(),this.ua[a].MA=p),this.ua[a]&& this.ua[a].remove(),this.ua[a]=p;this.ua.length=0},JR:function(a){return qd.VO[a]},dH:function(a,b,c){var d="";0===c&&(d+="padding-top:5px;");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:2px 0 2px 0px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}});rd=qd.prototype;T(rd,{_internalSearch:rd.oA});td.YO=20;td.SO=50;td.RO=10; w.extend(td.prototype,{YD:function(){this.$={qp:[],Hb:[],Ai:[],$g:[],fe:p,md:p,DC:q,nw:p,xo:p,QL:q,Aw:p,EC:1,CC:1,MJ:"\\u8d77\\u70b9",LJ:"\\u7ec8\\u70b9",Jx:q,fs:[]}},Md:function(){this.YD();for(var a=0,b=this.Na.length;a<b;a++){var c=this.Na[a];this[c.method].apply(this,c.arguments)}delete this.Na;var d=this;this.k.ja.map&&this.k.ja.map.addEventListener("onpoiselected",function(a){d.JE(a)})},search:function(a,b,c){this.$.QL=q;var c=c||{},d=c.waypoints;"[object Array]"==Object.prototype.toString.call(d)||(d= []);this.BO=d;if(pd.prototype.search.call(this,a,b)===o){var e=this;this.Jg(this.ud,function(f){var f=f||1,g;if(("object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b)&&0===d.length&&!e.k.bd)"string"===typeof a?g={qt:"nse",c:f,isSingle:o,wd:a,en:e.Ye(b),sy:e.k.Yc||0}:"string"===typeof b&&(g={qt:"nse",c:f,isSingle:o,wd:b,sn:e.Ye(a),sy:e.k.Yc||0}),this.rd=e.k.bd?e.rd:"nse",f={start:a,end:b,ys:e.k.bd};else{var i=e.Ye(a);en="";if(0<d.length){for(var k=0;k<d.length;k++)en+= e.kx(d[k])+"+to:";en+=e.Ye(b)}else en=e.Ye(b);g={qt:e.rd,c:f,sn:i,en:en,sy:e.k.Yc||0};f={start:i,end:en,ys:e.k.bd}}0<d.length&&(f.pO=o);c.startCity&&(g.sc=c.startCity);if(c.endCity){i="";if(0<d.length){for(k=0;k<d.length;k++)i+=c.endCity+"+to:";i+=c.endCity}else i=c.endCity;g.ec=i}e.k.bd&&(g.route_traffic=1,g.version=4,g.mrs=0<e.BO.length?0:1);$c.$a(function(a,b){e.Hf(a,b)},g,f)})}},Gz:function(a,b){var c=this;c.$.QL=o;c.Jg(c.ud,function(d){for(var d=d||1,e=Q.wb(c.$.Hb[0]),e="1$$$$"+e.lng+","+e.lat+ "$$$$",f=c.$.EC||d,g="",i="",k=1,l=c.$.Hb.length;k<l;k++){var m=c.$.Hb[k];k===l-1?(g+=c.Ye(m),i+=c.$.CC||d):(g=m.tj?g+(c.kx(m)+"+to:"):g+(c.Ye(m)+"+to:"),i+="0 +to:")}d={qt:c.rd,c:d,drag:1,sc:f,ec:i,sn:e,en:g,sy:c.k.Yc||0};c.k.bd&&(d.route_traffic=1,d.version=4,d.mrs=0);e={start:a,end:b,ys:c.k.bd};w.extend(e,{pO:o});$c.$a(function(a,b){c.Hf(a,b)},d,e)})},JE:function(a){var b=this;if(a.sType===this.rd){a=a.paramInfo;a.qt=this.rd;var b=this,c={start:a.sq,end:a.eq,ys:b.k.bd};a.sy=b.k.Yc||0;b.k.bd&&(a.route_traffic= 1,a.version=4,a.mrs=0<b.BO.length?0:1);$c.$a(function(a){b.Hf(a,c)},a,c)}},Hf:function(a,b){this.Me();this.Da=a;var c=a.result;this.fa=b;if(0!==c.error||c.type!==this.ru)if(23===c.type||19===c.type){var c=new wd(a,{ja:this.k.ja,fy:this.rd}),d=L("div",{style:"font:12px "+E.fontFamily+";background:#fff"});d.innerHTML=c.ta(b);this.k.ja.Fa?(this.k.ja.Fa.appendChild(d),c.pa()):c.DO()}else this.ia=this.Lu({city:a.current_city.name,ut:[],Yc:c.sy,QN:j,BK:j}),this.qb(3),this.Qa(W.Qc,this.ia);else this.k.bd? this.nT():this.yl(),this.sT(),this.zl()},XR:function(a,b){var c=cd;0===b&&(c=0<a?2:1);return c},pB:function(){this.$.md&&this.$.md.xC();for(var a=0,b=this.$.$g.length;a<b;a++){var c=this.$.$g[a];c instanceof U&&c.xC()}},nT:function(){var a=this.Da.result,b=this.Da.content,c=this.Da.current_city,d=a.waypoints,e=b.taxis&&b.taxis[0]&&b.taxis[0].total_price||0,f=[],g=[],i=0,k=0,l=b.routes[0].legs,m=b.steps,n=b.stepts,u=[],v=[];this.Bl=[];var x=this.$.Ai.slice(0);this.$.Ai.length=0;var y={},C={},A=[], b=[],D=[],B=[];if("object"===typeof this.fa.start&&!(this.fa.start instanceof H))w.extend(y,this.fa.start);else{y.title=a.start.wd||"\\u8d77\\u70b9";y.uid=a.start.uid;y.url=W.Lh(y.uid,a.start_city.code);var G=a.start.pt.split(",");y.point=Q.Cb(new H(parseFloat(G[0]),parseFloat(G[1])));y.city=a.start_city.cname}this.$.EC=a.start_city.code;if("object"===typeof this.fa.end&&!(this.fa.end instanceof H))w.extend(C,this.fa.end);else{var K,G=a.end[a.end.length-1];K=a.end_city[a.end_city.length-1];this.$.CC= K.code;C.title=G.wd||"\\u7ec8\\u70b9";C.uid=G.uid;"null"===C.uid&&(C.uid="");C.url=W.Lh(G.uid,K.code);G=G.pt.split(",");C.point=Q.Cb(new H(parseFloat(G[0]),parseFloat(G[1])));C.city=K.cname}K=G=0;for(var R=l.length;K<R;K++){var J=l[K],i=i+J.distance,k=k+J.duration;f.push(J.distance);g.push(J.duration);for(var Z=[],ka=[],va=[],Na=[],J=J.stepis,ub=0,jb=J.length;ub<jb;ub++){for(var Ea=J[ub],sd=Ea.s,Ea=Ea.n,mh=m.slice(sd,Ea+sd),Ki=n.slice(sd,Ea+sd),Pe=0;Pe<Ea;Pe++){for(var $d=mh[Pe],ag=Ki[Pe],nh=ag.end, oh=ag.status,ae=O.sb($d.path,o).ha,Qe=0,ph=[],Re=0,Li=nh.length;Re<Li;Re++){var qh=nh[Re];ph[Re]=ae.slice(Qe,Qe+qh+1);Qe+=qh}this.Bl[G]=ae;ka=ka.concat(ae);va.push(ae);Na.push(oh);$d.Ux=ae;$d.Q3=ag;$d.yF=oh;$d.s_=ph;G++}Z=Z.concat(mh);v=v.concat(n.slice(sd,Ea+sd+1))}u.push(Z);D.push(va);B.push(Na);b.push(ka)}l=[];K=0;for(g=b.length;K<g;K++)m=new th({xj:u[K],jd:f[K],index:K,ha:D[K],yF:B[K],ey:this.su}),l.push(m);K=new ih({TE:l,jd:i,duration:k});f="";i={};D=p;D=k="string";u=this.k.ja.map;this.fa.start instanceof H&&(k="point");this.fa.end instanceof H&&(D="point");"point"===k&&"string"===D||"string"===k&&"point"===D?(D="nse",u.Dd(),w.extend(i,{region:c.name,zoom:u.ea()}),"string"===k?(i.origin=this.fa.start,i.destination=this.Kh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end)):(i.destination=this.fa.end,i.origin=this.Kh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start))):(D=ed,i.region=c.name,i.origin_region=a.start_city.cname,i.destination_region=a.end_city[0].cname,i.origin= this.Kh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start),i.destination=this.Kh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end));D!==p&&(f=z.Ec+"direction?"+Db(i)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ia=this.Lu({city:c.name,ut:[K],start:y,end:C,url:f,Yc:a.sy,XN:e});this.$.Hb.length=0;this.$.qp.length=0;c=1;for(K=0;K<d.length;K++)e=d[K],f=(e.pt?e.pt:a.end[K].pt).split(","),f=Q.Cb(new H(parseFloat(f[0]),parseFloat(f[1]))),f.tj=e.if_wp?e.if_wp:a.end[K].pt, A.push(f),this.$.Ai.push({title:e.wd?e.wd:x[K]&&x[K].title?x[K].title:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:f}),c++;this.$.Hb.push(y.point);K=0;for(g=A.length;K<g;K++)this.$.Hb.push(A[K]);this.$.Hb.push(C.point);K=0;for(g=b.length;K<g;K++)a=b[K],a.Mk=K,a.ij=K+1,this.$.qp.push(a);this.qb(0);this.Qa(W.Qc,this.ia)},yl:function(){var a=this.Da.result,b=this.Da.content,c=this.Da.current_city,d=b.kps,e=b.rss,f=a.waypoints,g={},i={};"object"===typeof this.fa.start&&!(this.fa.start instanceof H)?w.extend(g, this.fa.start):(g.title=a.start.wd||"\\u8d77\\u70b9",g.uid=a.start.uid,g.url=W.Lh(g.uid,a.start_city.code),g.point=O.sb(a.start.pt,o).point,g.city=a.start_city.cname);this.$.EC=a.start_city.code;if("object"===typeof this.fa.end&&!(this.fa.end instanceof H))w.extend(i,this.fa.end);else{var k,l;k=a.end[a.end.length-1];l=a.end_city[a.end_city.length-1];this.$.CC=l.code;i.title=k.wd||"\\u7ec8\\u70b9";i.uid=k.uid;"null"===i.uid&&(i.uid="");i.url=W.Lh(k.uid,l.code);i.point=O.sb(k.pt,o).point;i.city=l.cname}var m= [],n=[],u=[],v=0,x=[];this.Bl=[];l=[];k=[];var y=[],C=0;this.$.Ai.length=0;for(var A=1,D=0,B=d.length-1;D<B;D++){var G=d[D],K=d[D+1],R=e[D],J=e[D-1]||{},Z=e[D+1],ka=O.sb(G.pt,o).point,va=O.sb(R.g,o);va&&(y=y.concat(va.ha));v+=Z.d;3===G.rt?(1===f[A-1].if_wp&&(ka.tj=1),l.push(ka),k.push(y.slice(0)),y=[],m.push(n.slice(0)),n=[],u.push(v),v=0,this.$.Ai.push({title:J.n||Z.n||"\\u672a\\u77e5\\u8def\\u6bb5",curNo:A,point:ka}),A++):(n.push(new xh({point:ka,index:n.length,description:this.BR(G,R,Z,D,B,J,K),jd:Z.d})), va&&(this.Bl[C]=1<D?[x[x.length-1]].concat(va.ha):va.ha,x=x.concat(va.ha)),C++)}0<y.length&&k.push(y);0<n.length&&m.push(n);0<v&&u.push(v);d=[];D=0;for(B=k.length;D<B;D++)e=new th({xj:m[D],jd:u[D],index:D,ha:k[D],ey:this.su}),d.push(e);D=b.time;this.rd===fd&&(D=Math.round(b.dis/1.35));b=new ih({TE:d,jd:b.dis,duration:D,WV:this.$.Ai});D="";B={};f=p;f=d="string";e=this.k.ja.map;this.fa.start instanceof H&&(d="point");this.fa.end instanceof H&&(f="point");"point"===d&&"string"===f||"string"===d&&"point"=== f?(f="nse",e.Dd(),w.extend(B,{region:c.name,zoom:e.ea()}),"string"===d?(B.origin=this.fa.start,B.destination=this.Kh(this.fa.end,this.fa.end.title?this.fa.end.title:this.fa.end)):(B.destination=this.fa.end,B.origin=this.Kh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start))):(f=ed,B.region=c.name,B.origin_region=a.start_city.cname,B.destination_region=a.end_city[0].cname,B.origin=this.Kh(this.fa.start,this.fa.start.title?this.fa.start.title:this.fa.start),B.destination=this.Kh(this.fa.end, this.fa.end.title?this.fa.end.title:this.fa.end));f!==p&&(D=z.Ec+"direction?"+Db(B)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ia=this.Lu({city:c.name,ut:[b],start:g,end:i,url:D,Yc:a.sy,XN:this.ZR()});this.$.Hb.length=0;this.$.qp.length=0;this.$.Hb.push(g.point);D=0;for(B=l.length;D<B;D++)this.$.Hb.push(l[D]);this.$.Hb.push(i.point);D=0;for(B=k.length;D<B;D++)a=k[D],a.Mk=D,a.ij=D+1,this.$.qp.push(a);this.qb(0);this.Qa(W.Qc,this.ia)},fH:function(){for(var a=0,b=this.ia.nf(0),c=0,d=b.Ms();c< d;c++)var e=b.ih(c),a=a+e.fx();return a},Nq:function(a){for(var b=0,c=this.ia.nf(0),d=0,e=c.Ms();d<e;d++)for(var f=c.ih(d),g=0,i=f.fx();g<i;g++){var k=f.hL(g);if(b===a)return k;b++}},BR:function(a,b,c,d,e,f,g){var i="",i=parseInt(b.d,10),k=b.poi;k&&(i-=k.pd);var i=jh(i),f=this.$z(f.t,f.n),k=this.$z(b.t,b.n),l=this.$z(b.t,c.n),m=this.lH(a.dw)||"",m=a.dr?m+"<span>"+a.dr+"</span>\\uff0c":"";3===g.rt&&(m+="\\u5230\\u8fbe<span>"+this.Zz(g.rt)+"</span>\\uff0c");c=k===l?"":this.VR(c.t,c.n)+"<span>"+l+"</span>"; g=this.xH(a.ett||a.extt||a.tt);i=g+"<div class=\'navtrans-navlist-content\'>"+((""!==k&&f===k?"\\u7ee7\\u7eed":"")+this.WR(b.t,b.n))+k+this.Zz(a.rt)+i+"\\uff0c"+this.SR(b)+this.$R(a)+m;0===d?i=g+"<div class=\'navtrans-navlist-content\'>\\u4ece\\u8d77\\u70b9\\u5411"+this.Vu(a.ett||a.extt||a.tt)+"\\u51fa\\u53d1</div>":0<d&&d<e-1?((a=this.Vu(a.ett||a.extt||a.tt))||(a=this.Vu(1)),i=i+a+c+"</div>"):i+="\\u5230\\u8fbe\\u7ec8\\u70b9</div>";return i},qS:function(a,b,c){if(b&&c&&0<c.length)for(var d=0,e=c.length;d<e;d++){var f= a.$b(c[d]);if(V.DW(b,f)<=td.YO)return o}return q},sT:function(){this.k.ja.map&&this.ia&&(this.xT(),this.uT())},uT:function(){for(var a=this.k.ja.map,b=this.ia.nf(0),c=b.ih(0),d=this.ia.pj(),e=this.ia.gh(),f=this,g=this.$.Hb.length,i=[],k=[],l,m=0,n=this.$.qp.length;m<n;m++){var u=this.$.qp[m];l=V.Ml(a,u,c.Wo());b.$j[m].Ri=l;l.Mk=u.Mk;l.ij=u.ij;u=l.Dd();i.push(u.pe());i.push(u.lf());this.Iz&&g<td.RO+2&&(l.addEventListener("mousemove",function(b){f.$.Jx?f.$.md&&f.$.md.R():(f.$.Aw=this,f.$.md?f.qS(a, b.pixel,f.$.Hb)?f.$.md.R():(f.$.md.show(),f.$.md.ra(b.point),f.$.fe.Zc("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),f.$.fe.show(),f.$.md.Xm(f.$.fe)):(f.$.md=V.pJ(a,b.point),f.$.md.Wb(),f.$.md.addEventListener("dragging",function(){f.wI(this,a,f.$.Aw.Mk,f.$.Aw.ij)}),f.$.md.addEventListener("dragend",function(){var a=f.$.nw,b=a.name,c=f.$.Aw.ij;a.tj=p;f.$.Hb.splice(c,0,a);f.$.Ai.splice(c,0,{title:b?b:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:a});this.ra(a);f.pB();f.Gz(d,e)}),f.$.fe||(f.$.fe=V.cK()), a.Ha(f.$.md)))}),l.addEventListener("mouseout",function(){f.$.md&&f.$.md.R()}));f.$.$g.push(l);if(this.k.bd){c=b.ih(m);l=0;for(u=c.Gr.length;l<u;l++)for(var v=c.Gr[l],x=v.s_,v=v.yF,y=0,C=x.length;y<C;y++){if(v[y])var A=V.sJ(a,x[y],v[y]);k.push(A);f.$.$g.push(A)}c.L0=k}}this.k.ja.Xg&&a.zh(i,{margins:[30,30,30,30]});this.Qa(W.lu,b.$j)},xT:function(){var a=this.k.ja.map;this.ia.nf(0);for(var b=this.ia.pj(),c=this.ia.gh(),d=this,e=0,f=0,g=this.$.Hb.length;f<g;f++){var i=this.$.Hb[f];if(0===f)i=V.po(a, i,b.title,zh),b.marker=i,i.addEventListener("click",function(){d._select(0)}),this.ua.push(i);else if(f===this.$.Hb.length-1)i=V.po(a,i,c.title,Ah),c.marker=i,i.addEventListener("click",function(){d._select(d.fH()+1)}),this.ua.push(i);else{i.tj?(i=V.vJ(a,i,e),e++,i.tj=1):i=V.pJ(a,i);this.$.Ai[f-1].Hm=i;var k=new cc;k.bw(new fc("\\u5220\\u9664\\u8be5\\u70b9",function(a,b,c){d._delVia(c.Cw)},{width:60}));i.oo(k);d.$.fs.push(k)}i.Cw=f;this.Iz&&(i.Wb(),i.addEventListener("mouseover",function(){d.$.Jx=o;d.$.fe? (d.$.fe.Zc("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),d.$.fe.show()):d.$.fe=V.cK();this.Xm(d.$.fe)}),i.addEventListener("mouseout",function(){this.yD()&&this.yD().R();d.$.Jx=q}),i.addEventListener("dragging",function(){d.wI(this,a)}),i.addEventListener("dragend",function(){var a=d.$.nw,e=this.Cw;this.tj&&(a.tj=1);d.$.Hb[e]=a;this.ra(a);var a=d.$.Hb[0],f=d.$.Hb[d.$.Hb.length-1];0===e&&(b.point=a,b.title=d.$.MJ);e===d.$.Hb.length-1&&(c.point=f,c.title=d.$.LJ);d.pB();d.Gz(b,c)}));d.$.$g.push(i)}e= [b];e=e.concat(this.$.Ai);e=e.concat([c]);this.Qa(W.Rp,e)},wI:function(a,b,c,d){var e=this;if(e.$.DC!==o){e.$.DC=o;setTimeout(function(){e.$.DC=q},td.SO);var f;f=Q.wb(a.ga());var g=b.ea(),i=a.Cw,k=e.k.Yc;if("undefiend"!==typeof c&&"undefined"!==typeof d){var l=e.$.Hb[c],l=Q.wb(l),i=e.$.Hb[d],i=Q.wb(i);f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}}else 0===i?(i=e.$.Hb[i+1],i=Q.wb(i),f={qt:"drag",pt:f.lng+","+f.lat,sn:"",en:i.lng+","+i.lat,r:5E3,st:1, et:1,sy:k,l:g}):i===this.$.Hb.length-1?(l=e.$.Hb[i-1],l=Q.wb(l),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:"",r:5E3,st:1,et:1,sy:k,l:g}):(l=e.$.Hb[i-1],l=Q.wb(l),i=e.$.Hb[i+1],i=Q.wb(i),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g});$c.$a(function(a,b){e.AT(a,b)},f,{DV:a,map:b,Mk:c,ij:d})}},AT:function(a,b){if(a&&a.content){this.$.nw=O.sb(a.content.dragpt,o).point;var c,d=b.map,e=b.Mk,f=b.ij,g=b.DV.Cw;"undefiend"!==typeof e&&"undefined"!== typeof f?c=O.YM(a.content.geo).ha:0===g?(c=O.sb(a.content.geo,o).ha,this.$.MJ=a.content.name?a.content.name:"\\u8d77\\u70b9"):g===this.$.Hb.length-1?(c=O.sb(a.content.geo,o).ha,this.$.LJ=a.content.name?a.content.name:"\\u7ec8\\u70b9"):c=O.YM(a.content.geo).ha;c&&(this.iQ(g,d,e,f),this.$.xo?this.$.xo.ee(c):(e=this.ia.nf(0).ih(0),this.$.xo=V.Ml(d,c,e.Wo())));c=a.content.name?a.content.name:"\\u672a\\u77e5\\u8def\\u6bb5";this.$.nw.name=c;d="("+jh(a.content.dis)+")";this.$.fe&&this.$.fe.show();this.$.fe&&this.$.fe.Zc(c+ d)}},iQ:function(a,b,c,d){for(var e=0,f=this.$.$g.length;e<f;e++){var g=this.$.$g[e];if(g instanceof Ac)if("undefiend"!==typeof c&&"undefined"!==typeof d){if(g.Mk===c&&g.ij===d){b.Rb(g);break}}else(g.Mk===a||g.ij===a)&&b.Rb(g)}this.dg&&this.dg.R()},_select:function(a){var b=this.ib,c=this.k.ja;if(c.Fa){var d=c.Fa.getElementsByTagName("table"),d=d[d.length-1].getElementsByTagName("tr");0<=b-1&&d[b-1]&&(d[b-1].style.background="");0<=a-1&&d[a-1]&&(d[a-1].style.background="#f0f0f0")}var e=c.map;if(e){var b= this.ia.nf(0).ih(0),d=this.fH(),f=this;e.Uc();if(0===a||a===d+1){var g=0===a?this.ia.pj():this.ia.gh(),i=V.yw({content:"<b>"+g.title+"</b>",total:d,Bw:a,Mx:function(a){f._select(a)},AX:1===c.Ts?q:o});i.addEventListener("open",function(){f.Qa(W.un,g,V.Hs(e))});i.addEventListener("close",function(){if(f.k.ja.Fa){var a=c.Fa.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=f.ib-1&&a[f.ib-1]&&(a[f.ib-1].style.background="")}f.ib=-1});var k=0===a?0:1,f=this;e.D.hm?Wd.dp(i, e.getCurrentCity().code,{panoInstance:e.M,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){f.ua[k].Kb(i)}):f.ua[k].Kb(i);this.dg&&this.dg.R()}else{var l=c.Ts;if(1===l){var m=this.Nq(a-1),i=V.yw({content:m.fh()?m.fh(q):m.instructions,total:d,Bw:a,Mx:function(a){f._select(a)}});i.addEventListener("open",function(){f.Qa(W.un,m,V.Hs(e))});i.addEventListener("close",function(){if(f.k.ja.Fa){var a=c.Fa.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"), 0<=f.ib-1&&a[f.ib-1]&&(a[f.ib-1].style.background="")}f.ib=-1});var n=m.ga?m.ga():m.Ux[m.Ux.length-1],f=this;e.D.hm?Wd.dp(i,e.getCurrentCity().code,{panoInstance:e.M,lngLat:n,titleTip:m.fh?m.fh(q):m.instructions,type:"driving",beforeDomId:"trans_nav"},function(){e.Kb(i,n)}):e.Kb(i,n)}else if(2===l)if(1===a&&!this.k.bd)m=this.Nq(0),e.Vf(m.ga?m.ga():m.Ux[m.Ux.length-1]),c.Xg&&e.Lc(17),this.dg&&this.dg.R();else if(this.Bl[a-1]&&(this.dg?(this.dg.ee(this.Bl[a-1]),this.dg.show()):this.dg=V.Ml(e,this.Bl[a- 1],b.Wo()+2),c.Xg))b=e.Qs(this.dg.Dd()),17<b.zoom&&(b.zoom=17),e.zh(b)}}this.ib=a},_toggle:function(){var a=this.k.ja;if(a.Fa){var b=w.getElementsByClassName(a.Fa,"navtrans-res");b&&0<b.length&&(b=b[0],b.style.display=b&&"none"===b.style.display?"":"none");if((a=w.getElementsByClassName(a.Fa,"navtrans-view"))&&0<a.length)a=a[0],w.C.j_(a)}},Hj:function(){var a=this.k.ja.map;if(a){for(var b=0,c=this.ua.length;b<c;b++)a.Rb(this.ua[b]),this.ua[b]=p;this.ua.length=0;a.Rb(this.dg);this.dg=p;if(this.$){this.$.md&& (a.Rb(this.$.md),this.$.md=p);this.$.fe&&(a.Rb(this.$.fe),this.$.fe=p);b=0;for(c=this.$.$g.length;b<c;b++)a.Rb(this.$.$g[b]),this.$.$g[b]=p;this.$.$g.length=0;this.$.xo&&(a.Rb(this.$.xo),this.$.xo=p);b=0;for(c=this.$.fs.length;b<c;b++)a.sp(this.$.fs[b]),this.$.fs[b]=p;this.$.fs.length=0;this.$.Jx=q}}},_delVia:function(a){if(this.ia){var b=this.ia.pj(),c=this.ia.gh();this.$.Hb.splice(a,1);this.pB();this.Gz(b,c)}},zl:function(){if(this.k.ja.Fa&&this.k.ja.Fa.appendChild&&this.ia&&0<this.ia.dx()){var a= this.ia.nf(0),b=L("div",{style:"font:12px "+E.fontFamily+";background:#fff"}),c=this.$.Ai,d=c.length,e=[],f=this.rd===ed,f=pd.bH(this.ia.gh().title,f?"\\u9a7e\\u8f66":"\\u6b65\\u884c",0<d);if(0<d){e.push("<table style=\'width:100%;margin-left:4px;font:12px "+E.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>");for(var g=0;g<d;g++)e.push("<tr>"),0===g&&(1===d?e.push(\'<td style="padding:2px 5px;line-height:20px">\\u9014\\u7ecf\\u70b9</td>\'):e.push(\'<td valign="top" rowspan="\'+ d+\'" style="padding:2px 5px;line-height:18px">\\u9014\\u7ecf\\u70b9</td>\')),e.push(\'<td style="padding:2px 5px;line-height:20px">\'+c[g].title+"</td>"),e.push(\'<td style="padding:2px 10px;line-height:20px;cursor:pointer;color:#0000ff" onclick=\\\'Instance("\'+this.aa+\'")._delVia(\'+c[g].curNo+")\'>\\u5220\\u9664</td>"),e.push("</tr>");e.push("</table>")}for(var c=pd.cH(this.ia.pj().title,\'Instance("\'+this.aa+\'")._select(0)\',0),d=["<table class=\'navtrans-table\' style=\'width:100%;font:12px "+E.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"], i=0,k=0,l=a.Ms();k<l;k++)for(var m=a.ih(k),g=0,m=m.fx();g<m;g++){var n="";this.ib===i+1&&(n=";background:#f0f0f0");d.push(\'<tr style="cursor:pointer\'+n+\'" onclick=\\\'Instance("\'+this.aa+\'")._select(\'+(i+1)+")\'>");d.push("<td style=\'border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;\' >"+(this.Nq(i).fh?this.Nq(i).fh():this.Nq(i).instructions)+"</td>");d.push("</tr>");i++}d.push("</table>");g=pd.cH(this.ia.gh().title,\'Instance("\'+this.aa+\'")._select(\'+(i+1)+")",1);a="<div class=\'navtrans-view expand\' style=\'position:relative;color:#7777cc;background:#e5ecf9;height:53px;overflow:hidden;text-align:right\' onclick=\'Instance(\\""+ this.aa+"\\")._toggle()\'><span class=\'suggest-plan\'>\\u63a8\\u8350</span><div class=\'suggest-plan-des\'>"+a.Pe().replace(/(\\d+(?:.\\d+)?)/,"$1 ")+"&nbsp;&nbsp;|&nbsp;&nbsp;"+a.Gs().replace(/(\\d+)/,"$1 ")+"</div>";this.ia.moreResultsUrl&&(a+="<a style=\'color:#7777cc;position:absolute;top:5px;right:20px;\' href=\'"+this.ia.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");b.innerHTML=f+(a+"&nbsp;<span class=\'navtrans-arrow\'></span></div>")+("<div class=\'navtrans-res\'>"+ e.join("")+c+d.join("")+g+"</div>");this.k.ja.Fa.appendChild(b);this.Qa(W.mu,b)}},$z:function(a,b){if(""===b||!b)if(9===a||12===a||1===a||16===a)b=td.hP[a];return b},SR:function(a){var b="",c=a.poi;c&&(b=this.uH(c.ps)||"",b=(this.vH(c.pw)||"")+b+"<b>"+c.pn+"</b>"+(c.pd<(13===a.yc||4===a.yc?1E3:50)?"":"\\u7ea6"+jh(c.pd)+"\\u540e")+(""===b?"":"\\uff0c"));return b},$R:function(a){var b=a.iw;return!a.ic?"":(this.qH(b)||"")+"<b>"+a.ic+"</b>"+(this.rH(b)||"")},WR:function(a,b){var c="\\u6cbf";if(0===a||!b&& 1!==a&&16!==a&&9!==a&&12!==a)c="";return c},VR:function(a,b){var c="\\u8fdb\\u5165";if(!b&&(9===a||12===a))c="\\u4e0a";else if(0===a||!b&&1!==a&&16!==a)c="";return c},ZR:function(){if(this.Da&&this.Da.content&&this.Da.content.taxi){var a=this.Da.content.taxi,b={distance:a.dis,remark:a.remark};if(a.detail[0]){var c=a.detail[0];b.day={initialFare:parseFloat(c.startPrice),unitFare:parseFloat(c.kmPrice),totalFare:parseFloat(c.totalPrice)}}a.detail[1]&&(a=a.detail[1],b.night={initialFare:parseFloat(a.startPrice), unitFare:parseFloat(a.kmPrice),totalFare:parseFloat(a.totalPrice)});return b}return p}});ud.Vy=" \\u76f4\\u884c \\u53f3\\u524d\\u65b9\\u8f6c\\u5f2f \\u53f3\\u8f6c \\u53f3\\u540e\\u65b9\\u8f6c\\u5f2f \\u8c03\\u5934 \\u5de6\\u540e\\u65b9\\u8f6c\\u5f2f \\u5de6\\u8f6c \\u5de6\\u524d\\u65b9\\u8f6c\\u5f2f \\u9760\\u5de6 \\u76f4\\u884c \\u9760\\u53f3 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411".split(" "); ud.Ty=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u884c\\u9a76"];ud.$p="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-9 s-1 s-10        ".split(" ");ud.Ny=["\\u5728","\\u4ece","\\u4ece"];ud.Oy=["","","\\u79bb\\u5f00"];ud.Sy=["\\u8fc7","\\u5728"];ud.Ry=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];ud.Iy=["","\\u671d"]; w.extend(ud.prototype,{Lu:function(a){return new eh(a)},Vu:function(a){return ud.Vy[a]},xH:function(a){return\'<span class="navtrans-navlist-icon \'+(ud.$p[a]?ud.$p[a]:"")+\'"></span>\'},Zz:function(a){return ud.Ty[a]},qH:function(a){return ud.Ny[a]},rH:function(a){return ud.Oy[a]},vH:function(a){return ud.Sy[a]},uH:function(a){return ud.Ry[a]},lH:function(a){return ud.Iy[a]}});vd.Vy=" \\u76f4\\u8d70 \\u5411\\u53f3\\u524d\\u65b9\\u8f6c \\u53f3\\u8f6c \\u5411\\u53f3\\u540e\\u65b9\\u8f6c \\u5411\\u540e\\u8f6c \\u5411\\u5de6\\u540e\\u65b9\\u8f6c \\u5de6\\u8f6c \\u5411\\u5de6\\u524d\\u65b9\\u8f6c \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411    ".split(" "); vd.$p="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-7 s-3 s-7 s-3            ".split(" ");vd.Ty=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u8d70"];vd.Ny=["\\u5728","\\u4ece","\\u4ece"];vd.Oy=["","","\\u79bb\\u5f00"];vd.Sy=["\\u8fc7","\\u5728"];vd.Ry=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];vd.Iy=["","\\u671d"]; w.extend(vd.prototype,{Lu:function(a){delete a.url;return new fh(a)},Vu:function(a){return vd.Vy[a]},xH:function(a){return\'<span class="navtrans-navlist-icon \'+(vd.$p[a]?vd.$p[a]:"")+\'"></span>\'},Zz:function(a){return vd.Ty[a]},qH:function(a){return vd.Ny[a]},rH:function(a){return vd.Oy[a]},vH:function(a){return vd.Sy[a]},uH:function(a){return vd.Ry[a]},lH:function(a){return vd.Iy[a]}});w.extend(zd.prototype,{Md:function(a,b,c){this.rL("web",this.nL(a,b,c))},uN:function(a,b,c){this.rL("web",this.nL(a,b,c))},GN:function(a,b){var c=this.rh,d="";a&&a.cM&&a.name?(d=a.cM,d="latlng:"+d.lat+","+d.lng,d+="|name:"+a.name):d=(d=a.cM)?d.lat+","+d.lng:a.name?a.name:"";c[b]=d},nL:function(a,b,c){this.GN(a,"origin");this.GN(b,"destination");var c=this.rh=w.object.extend(this.rh,c),a=[],d="";if("undefined"===typeof c.origin||""===c.origin)c.origin="";var b={destination:q,mode:q},e;for(e in c)d= e+"="+c[e],a.push(d),"undefined"!==typeof b[e]&&(b[e]=o);this.mode=c.mode;b.mode===q&&(this.mode="driving",a.push("mode=driving"),b.mode=o);e=o;for(var f in b)e=e&&b[f];return e?a.join("&"):q},rL:function(a,b,c){b&&(b=ch[a]+b+"&src=baidu|jsapi",Pa(7E3,{mode:this.mode}),"web"===a&&(b+="&output=html"),location.href=b,c&&c())}}); ');
